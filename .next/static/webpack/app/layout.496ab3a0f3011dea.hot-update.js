/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/layout",{

/***/ "(app-pages-browser)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22C%3A%5C%5CUsers%5C%5CKatekaniNyamandi%5C%5Cbookhaven%5C%5Capp%5C%5Cglobals.css%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CUsers%5C%5CKatekaniNyamandi%5C%5Cbookhaven%5C%5Capp%5C%5Cproviders.tsx%22%2C%22ids%22%3A%5B%22Providers%22%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CUsers%5C%5CKatekaniNyamandi%5C%5Cbookhaven%5C%5Ccomponents%5C%5Cauth%5C%5CAuthGuard.tsx%22%2C%22ids%22%3A%5B%22AuthGuard%22%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CUsers%5C%5CKatekaniNyamandi%5C%5Cbookhaven%5C%5Ccomponents%5C%5Cauth%5C%5COnboardingDataSync.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CUsers%5C%5CKatekaniNyamandi%5C%5Cbookhaven%5C%5Ccomponents%5C%5Clayout%5C%5CNavigation.tsx%22%2C%22ids%22%3A%5B%22Navigation%22%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CUsers%5C%5CKatekaniNyamandi%5C%5Cbookhaven%5C%5Ccomponents%5C%5Cui%5C%5CCustomCursor.tsx%22%2C%22ids%22%3A%5B%22CustomCursor%22%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CUsers%5C%5CKatekaniNyamandi%5C%5Cbookhaven%5C%5Ccomponents%5C%5Cutils%5C%5CDataMigration.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CUsers%5C%5CKatekaniNyamandi%5C%5Cbookhaven%5C%5Cnode_modules%5C%5Cnext%5C%5Cfont%5C%5Cgoogle%5C%5Ctarget.css%3F%7B%5C%22path%5C%22%3A%5C%22app%5C%5C%5C%5Clayout.tsx%5C%22%2C%5C%22import%5C%22%3A%5C%22Inter%5C%22%2C%5C%22arguments%5C%22%3A%5B%7B%5C%22subsets%5C%22%3A%5B%5C%22latin%5C%22%5D%7D%5D%2C%5C%22variableName%5C%22%3A%5C%22inter%5C%22%7D%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CUsers%5C%5CKatekaniNyamandi%5C%5Cbookhaven%5C%5Cnode_modules%5C%5Creact-hot-toast%5C%5Cdist%5C%5Cindex.mjs%22%2C%22ids%22%3A%5B%22Toaster%22%5D%7D&server=false!":
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22C%3A%5C%5CUsers%5C%5CKatekaniNyamandi%5C%5Cbookhaven%5C%5Capp%5C%5Cglobals.css%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CUsers%5C%5CKatekaniNyamandi%5C%5Cbookhaven%5C%5Capp%5C%5Cproviders.tsx%22%2C%22ids%22%3A%5B%22Providers%22%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CUsers%5C%5CKatekaniNyamandi%5C%5Cbookhaven%5C%5Ccomponents%5C%5Cauth%5C%5CAuthGuard.tsx%22%2C%22ids%22%3A%5B%22AuthGuard%22%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CUsers%5C%5CKatekaniNyamandi%5C%5Cbookhaven%5C%5Ccomponents%5C%5Cauth%5C%5COnboardingDataSync.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CUsers%5C%5CKatekaniNyamandi%5C%5Cbookhaven%5C%5Ccomponents%5C%5Clayout%5C%5CNavigation.tsx%22%2C%22ids%22%3A%5B%22Navigation%22%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CUsers%5C%5CKatekaniNyamandi%5C%5Cbookhaven%5C%5Ccomponents%5C%5Cui%5C%5CCustomCursor.tsx%22%2C%22ids%22%3A%5B%22CustomCursor%22%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CUsers%5C%5CKatekaniNyamandi%5C%5Cbookhaven%5C%5Ccomponents%5C%5Cutils%5C%5CDataMigration.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CUsers%5C%5CKatekaniNyamandi%5C%5Cbookhaven%5C%5Cnode_modules%5C%5Cnext%5C%5Cfont%5C%5Cgoogle%5C%5Ctarget.css%3F%7B%5C%22path%5C%22%3A%5C%22app%5C%5C%5C%5Clayout.tsx%5C%22%2C%5C%22import%5C%22%3A%5C%22Inter%5C%22%2C%5C%22arguments%5C%22%3A%5B%7B%5C%22subsets%5C%22%3A%5B%5C%22latin%5C%22%5D%7D%5D%2C%5C%22variableName%5C%22%3A%5C%22inter%5C%22%7D%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CUsers%5C%5CKatekaniNyamandi%5C%5Cbookhaven%5C%5Cnode_modules%5C%5Creact-hot-toast%5C%5Cdist%5C%5Cindex.mjs%22%2C%22ids%22%3A%5B%22Toaster%22%5D%7D&server=false! ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

eval(__webpack_require__.ts("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./app/globals.css */ \"(app-pages-browser)/./app/globals.css\"));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./app/providers.tsx */ \"(app-pages-browser)/./app/providers.tsx\"));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./components/auth/AuthGuard.tsx */ \"(app-pages-browser)/./components/auth/AuthGuard.tsx\"));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./components/auth/OnboardingDataSync.tsx */ \"(app-pages-browser)/./components/auth/OnboardingDataSync.tsx\"));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./components/layout/Navigation.tsx */ \"(app-pages-browser)/./components/layout/Navigation.tsx\"));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./components/ui/CustomCursor.tsx */ \"(app-pages-browser)/./components/ui/CustomCursor.tsx\"));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./components/utils/DataMigration.tsx */ \"(app-pages-browser)/./components/utils/DataMigration.tsx\"));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/font/google/target.css?{\"path\":\"app\\\\layout.tsx\",\"import\":\"Inter\",\"arguments\":[{\"subsets\":[\"latin\"]}],\"variableName\":\"inter\"} */ \"(app-pages-browser)/./node_modules/next/font/google/target.css?{\\\"path\\\":\\\"app\\\\\\\\layout.tsx\\\",\\\"import\\\":\\\"Inter\\\",\\\"arguments\\\":[{\\\"subsets\\\":[\\\"latin\\\"]}],\\\"variableName\\\":\\\"inter\\\"}\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./node_modules/react-hot-toast/dist/index.mjs */ \"(app-pages-browser)/./node_modules/react-hot-toast/dist/index.mjs\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtZmxpZ2h0LWNsaWVudC1lbnRyeS1sb2FkZXIuanM/bW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyQyUzQSU1QyU1Q1VzZXJzJTVDJTVDS2F0ZWthbmlOeWFtYW5kaSU1QyU1Q2Jvb2toYXZlbiU1QyU1Q2FwcCU1QyU1Q2dsb2JhbHMuY3NzJTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJm1vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMkMlM0ElNUMlNUNVc2VycyU1QyU1Q0thdGVrYW5pTnlhbWFuZGklNUMlNUNib29raGF2ZW4lNUMlNUNhcHAlNUMlNUNwcm92aWRlcnMudHN4JTIyJTJDJTIyaWRzJTIyJTNBJTVCJTIyUHJvdmlkZXJzJTIyJTVEJTdEJm1vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMkMlM0ElNUMlNUNVc2VycyU1QyU1Q0thdGVrYW5pTnlhbWFuZGklNUMlNUNib29raGF2ZW4lNUMlNUNjb21wb25lbnRzJTVDJTVDYXV0aCU1QyU1Q0F1dGhHdWFyZC50c3glMjIlMkMlMjJpZHMlMjIlM0ElNUIlMjJBdXRoR3VhcmQlMjIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyQyUzQSU1QyU1Q1VzZXJzJTVDJTVDS2F0ZWthbmlOeWFtYW5kaSU1QyU1Q2Jvb2toYXZlbiU1QyU1Q2NvbXBvbmVudHMlNUMlNUNhdXRoJTVDJTVDT25ib2FyZGluZ0RhdGFTeW5jLnRzeCUyMiUyQyUyMmlkcyUyMiUzQSU1QiUyMmRlZmF1bHQlMjIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyQyUzQSU1QyU1Q1VzZXJzJTVDJTVDS2F0ZWthbmlOeWFtYW5kaSU1QyU1Q2Jvb2toYXZlbiU1QyU1Q2NvbXBvbmVudHMlNUMlNUNsYXlvdXQlNUMlNUNOYXZpZ2F0aW9uLnRzeCUyMiUyQyUyMmlkcyUyMiUzQSU1QiUyMk5hdmlnYXRpb24lMjIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyQyUzQSU1QyU1Q1VzZXJzJTVDJTVDS2F0ZWthbmlOeWFtYW5kaSU1QyU1Q2Jvb2toYXZlbiU1QyU1Q2NvbXBvbmVudHMlNUMlNUN1aSU1QyU1Q0N1c3RvbUN1cnNvci50c3glMjIlMkMlMjJpZHMlMjIlM0ElNUIlMjJDdXN0b21DdXJzb3IlMjIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyQyUzQSU1QyU1Q1VzZXJzJTVDJTVDS2F0ZWthbmlOeWFtYW5kaSU1QyU1Q2Jvb2toYXZlbiU1QyU1Q2NvbXBvbmVudHMlNUMlNUN1dGlscyU1QyU1Q0RhdGFNaWdyYXRpb24udHN4JTIyJTJDJTIyaWRzJTIyJTNBJTVCJTIyZGVmYXVsdCUyMiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjJDJTNBJTVDJTVDVXNlcnMlNUMlNUNLYXRla2FuaU55YW1hbmRpJTVDJTVDYm9va2hhdmVuJTVDJTVDbm9kZV9tb2R1bGVzJTVDJTVDbmV4dCU1QyU1Q2ZvbnQlNUMlNUNnb29nbGUlNUMlNUN0YXJnZXQuY3NzJTNGJTdCJTVDJTIycGF0aCU1QyUyMiUzQSU1QyUyMmFwcCU1QyU1QyU1QyU1Q2xheW91dC50c3glNUMlMjIlMkMlNUMlMjJpbXBvcnQlNUMlMjIlM0ElNUMlMjJJbnRlciU1QyUyMiUyQyU1QyUyMmFyZ3VtZW50cyU1QyUyMiUzQSU1QiU3QiU1QyUyMnN1YnNldHMlNUMlMjIlM0ElNUIlNUMlMjJsYXRpbiU1QyUyMiU1RCU3RCU1RCUyQyU1QyUyMnZhcmlhYmxlTmFtZSU1QyUyMiUzQSU1QyUyMmludGVyJTVDJTIyJTdEJTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJm1vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMkMlM0ElNUMlNUNVc2VycyU1QyU1Q0thdGVrYW5pTnlhbWFuZGklNUMlNUNib29raGF2ZW4lNUMlNUNub2RlX21vZHVsZXMlNUMlNUNyZWFjdC1ob3QtdG9hc3QlNUMlNUNkaXN0JTVDJTVDaW5kZXgubWpzJTIyJTJDJTIyaWRzJTIyJTNBJTVCJTIyVG9hc3RlciUyMiU1RCU3RCZzZXJ2ZXI9ZmFsc2UhIiwibWFwcGluZ3MiOiJBQUFBLDRKQUE2RjtBQUM3RjtBQUNBLGdLQUE4SDtBQUM5SDtBQUNBLHdMQUEySTtBQUMzSTtBQUNBLDBNQUFrSjtBQUNsSjtBQUNBLDhMQUErSTtBQUMvSTtBQUNBLDBMQUErSTtBQUMvSTtBQUNBLGtNQUE4STtBQUM5STtBQUNBLHNiQUFvUDtBQUNwUDtBQUNBLG9OQUF3SiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvPzcxYjgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCJDOlxcXFxVc2Vyc1xcXFxLYXRla2FuaU55YW1hbmRpXFxcXGJvb2toYXZlblxcXFxhcHBcXFxcZ2xvYmFscy5jc3NcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiwgd2VicGFja0V4cG9ydHM6IFtcIlByb3ZpZGVyc1wiXSAqLyBcIkM6XFxcXFVzZXJzXFxcXEthdGVrYW5pTnlhbWFuZGlcXFxcYm9va2hhdmVuXFxcXGFwcFxcXFxwcm92aWRlcnMudHN4XCIpO1xuO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIsIHdlYnBhY2tFeHBvcnRzOiBbXCJBdXRoR3VhcmRcIl0gKi8gXCJDOlxcXFxVc2Vyc1xcXFxLYXRla2FuaU55YW1hbmRpXFxcXGJvb2toYXZlblxcXFxjb21wb25lbnRzXFxcXGF1dGhcXFxcQXV0aEd1YXJkLnRzeFwiKTtcbjtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiLCB3ZWJwYWNrRXhwb3J0czogW1wiZGVmYXVsdFwiXSAqLyBcIkM6XFxcXFVzZXJzXFxcXEthdGVrYW5pTnlhbWFuZGlcXFxcYm9va2hhdmVuXFxcXGNvbXBvbmVudHNcXFxcYXV0aFxcXFxPbmJvYXJkaW5nRGF0YVN5bmMudHN4XCIpO1xuO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIsIHdlYnBhY2tFeHBvcnRzOiBbXCJOYXZpZ2F0aW9uXCJdICovIFwiQzpcXFxcVXNlcnNcXFxcS2F0ZWthbmlOeWFtYW5kaVxcXFxib29raGF2ZW5cXFxcY29tcG9uZW50c1xcXFxsYXlvdXRcXFxcTmF2aWdhdGlvbi50c3hcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiwgd2VicGFja0V4cG9ydHM6IFtcIkN1c3RvbUN1cnNvclwiXSAqLyBcIkM6XFxcXFVzZXJzXFxcXEthdGVrYW5pTnlhbWFuZGlcXFxcYm9va2hhdmVuXFxcXGNvbXBvbmVudHNcXFxcdWlcXFxcQ3VzdG9tQ3Vyc29yLnRzeFwiKTtcbjtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiLCB3ZWJwYWNrRXhwb3J0czogW1wiZGVmYXVsdFwiXSAqLyBcIkM6XFxcXFVzZXJzXFxcXEthdGVrYW5pTnlhbWFuZGlcXFxcYm9va2hhdmVuXFxcXGNvbXBvbmVudHNcXFxcdXRpbHNcXFxcRGF0YU1pZ3JhdGlvbi50c3hcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIkM6XFxcXFVzZXJzXFxcXEthdGVrYW5pTnlhbWFuZGlcXFxcYm9va2hhdmVuXFxcXG5vZGVfbW9kdWxlc1xcXFxuZXh0XFxcXGZvbnRcXFxcZ29vZ2xlXFxcXHRhcmdldC5jc3M/e1xcXCJwYXRoXFxcIjpcXFwiYXBwXFxcXFxcXFxsYXlvdXQudHN4XFxcIixcXFwiaW1wb3J0XFxcIjpcXFwiSW50ZXJcXFwiLFxcXCJhcmd1bWVudHNcXFwiOlt7XFxcInN1YnNldHNcXFwiOltcXFwibGF0aW5cXFwiXX1dLFxcXCJ2YXJpYWJsZU5hbWVcXFwiOlxcXCJpbnRlclxcXCJ9XCIpO1xuO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIsIHdlYnBhY2tFeHBvcnRzOiBbXCJUb2FzdGVyXCJdICovIFwiQzpcXFxcVXNlcnNcXFxcS2F0ZWthbmlOeWFtYW5kaVxcXFxib29raGF2ZW5cXFxcbm9kZV9tb2R1bGVzXFxcXHJlYWN0LWhvdC10b2FzdFxcXFxkaXN0XFxcXGluZGV4Lm1qc1wiKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22C%3A%5C%5CUsers%5C%5CKatekaniNyamandi%5C%5Cbookhaven%5C%5Capp%5C%5Cglobals.css%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CUsers%5C%5CKatekaniNyamandi%5C%5Cbookhaven%5C%5Capp%5C%5Cproviders.tsx%22%2C%22ids%22%3A%5B%22Providers%22%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CUsers%5C%5CKatekaniNyamandi%5C%5Cbookhaven%5C%5Ccomponents%5C%5Cauth%5C%5CAuthGuard.tsx%22%2C%22ids%22%3A%5B%22AuthGuard%22%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CUsers%5C%5CKatekaniNyamandi%5C%5Cbookhaven%5C%5Ccomponents%5C%5Cauth%5C%5COnboardingDataSync.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CUsers%5C%5CKatekaniNyamandi%5C%5Cbookhaven%5C%5Ccomponents%5C%5Clayout%5C%5CNavigation.tsx%22%2C%22ids%22%3A%5B%22Navigation%22%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CUsers%5C%5CKatekaniNyamandi%5C%5Cbookhaven%5C%5Ccomponents%5C%5Cui%5C%5CCustomCursor.tsx%22%2C%22ids%22%3A%5B%22CustomCursor%22%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CUsers%5C%5CKatekaniNyamandi%5C%5Cbookhaven%5C%5Ccomponents%5C%5Cutils%5C%5CDataMigration.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CUsers%5C%5CKatekaniNyamandi%5C%5Cbookhaven%5C%5Cnode_modules%5C%5Cnext%5C%5Cfont%5C%5Cgoogle%5C%5Ctarget.css%3F%7B%5C%22path%5C%22%3A%5C%22app%5C%5C%5C%5Clayout.tsx%5C%22%2C%5C%22import%5C%22%3A%5C%22Inter%5C%22%2C%5C%22arguments%5C%22%3A%5B%7B%5C%22subsets%5C%22%3A%5B%5C%22latin%5C%22%5D%7D%5D%2C%5C%22variableName%5C%22%3A%5C%22inter%5C%22%7D%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CUsers%5C%5CKatekaniNyamandi%5C%5Cbookhaven%5C%5Cnode_modules%5C%5Creact-hot-toast%5C%5Cdist%5C%5Cindex.mjs%22%2C%22ids%22%3A%5B%22Toaster%22%5D%7D&server=false!\n"));

/***/ }),

/***/ "(app-pages-browser)/./components/ui/CustomCursor.tsx":
/*!****************************************!*\
  !*** ./components/ui/CustomCursor.tsx ***!
  \****************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CustomCursor: function() { return /* binding */ CustomCursor; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var styled_jsx_style__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! styled-jsx/style */ \"(app-pages-browser)/./node_modules/styled-jsx/style.js\");\n/* harmony import */ var styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(styled_jsx_style__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* __next_internal_client_entry_do_not_use__ CustomCursor auto */ \nvar _s = $RefreshSig$();\n\n\nfunction CustomCursor() {\n    _s();\n    const [mousePosition, setMousePosition] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)({\n        x: 0,\n        y: 0\n    });\n    const [isHovering, setIsHovering] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [isClicking, setIsClicking] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [trail, setTrail] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)([]);\n    const cursorRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n    const animationRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)();\n    const lastTrailUpdate = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(0);\n    // Use RAF for smooth cursor movement\n    const updateCursorPosition = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((x, y)=>{\n        if (cursorRef.current) {\n            cursorRef.current.style.transform = \"translate3d(\".concat(x - 10, \"px, \").concat(y - 10, \"px, 0) scale(\").concat(isHovering ? 1.5 : 1, \") \").concat(isClicking ? \"scale(0.8)\" : \"\");\n        }\n    }, [\n        isHovering,\n        isClicking\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        let trailId = 0;\n        const updateMousePosition = (e)=>{\n            const x = e.clientX;\n            const y = e.clientY;\n            // Immediately update position without state to avoid lag\n            setMousePosition({\n                x,\n                y\n            });\n            // Use RAF for smooth movement\n            if (animationRef.current) {\n                cancelAnimationFrame(animationRef.current);\n            }\n            animationRef.current = requestAnimationFrame(()=>{\n                updateCursorPosition(x, y);\n            });\n            // Throttle trail updates for better performance\n            const now = Date.now();\n            if (now - lastTrailUpdate.current > 16) {\n                // ~60fps\n                lastTrailUpdate.current = now;\n                setTrail((prev)=>{\n                    const newTrail = [\n                        ...prev,\n                        {\n                            x,\n                            y,\n                            id: trailId++\n                        }\n                    ];\n                    return newTrail.slice(-6); // Reduced trail length for better performance\n                });\n            }\n        };\n        const handleMouseDown = ()=>setIsClicking(true);\n        const handleMouseUp = ()=>setIsClicking(false);\n        // Debounced hover detection for better performance\n        let hoverTimeout;\n        const handleMouseOver = (e)=>{\n            clearTimeout(hoverTimeout);\n            hoverTimeout = setTimeout(()=>{\n                const target = e.target;\n                const isInteractive = target.matches('button, a, input, textarea, select, [role=\"button\"], .cursor-pointer') || target.closest('button, a, input, textarea, select, [role=\"button\"], .cursor-pointer');\n                setIsHovering(!!isInteractive);\n            }, 50); // Small delay to prevent excessive updates\n        };\n        // Use passive listeners for better performance\n        document.addEventListener(\"mousemove\", updateMousePosition, {\n            passive: true\n        });\n        document.addEventListener(\"mouseover\", handleMouseOver, {\n            passive: true\n        });\n        document.addEventListener(\"mousedown\", handleMouseDown);\n        document.addEventListener(\"mouseup\", handleMouseUp);\n        return ()=>{\n            document.removeEventListener(\"mousemove\", updateMousePosition);\n            document.removeEventListener(\"mouseover\", handleMouseOver);\n            document.removeEventListener(\"mousedown\", handleMouseDown);\n            document.removeEventListener(\"mouseup\", handleMouseUp);\n            if (animationRef.current) {\n                cancelAnimationFrame(animationRef.current);\n            }\n            clearTimeout(hoverTimeout);\n        };\n    }, [\n        updateCursorPosition\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default()), {\n                id: \"8a615f0ebec8ca2e\",\n                children: \"*{cursor:none!important}@-webkit-keyframes pulse-ring{0%{-webkit-transform:scale(.8);transform:scale(.8);opacity:1}100%{-webkit-transform:scale(2);transform:scale(2);opacity:0}}@-moz-keyframes pulse-ring{0%{-moz-transform:scale(.8);transform:scale(.8);opacity:1}100%{-moz-transform:scale(2);transform:scale(2);opacity:0}}@-o-keyframes pulse-ring{0%{-o-transform:scale(.8);transform:scale(.8);opacity:1}100%{-o-transform:scale(2);transform:scale(2);opacity:0}}@keyframes pulse-ring{0%{-webkit-transform:scale(.8);-moz-transform:scale(.8);-o-transform:scale(.8);transform:scale(.8);opacity:1}100%{-webkit-transform:scale(2);-moz-transform:scale(2);-o-transform:scale(2);transform:scale(2);opacity:0}}@-webkit-keyframes sparkle{0%,100%{-webkit-transform:scale(0)rotate(0deg);transform:scale(0)rotate(0deg);opacity:0}50%{-webkit-transform:scale(1)rotate(180deg);transform:scale(1)rotate(180deg);opacity:1}}@-moz-keyframes sparkle{0%,100%{-moz-transform:scale(0)rotate(0deg);transform:scale(0)rotate(0deg);opacity:0}50%{-moz-transform:scale(1)rotate(180deg);transform:scale(1)rotate(180deg);opacity:1}}@-o-keyframes sparkle{0%,100%{-o-transform:scale(0)rotate(0deg);transform:scale(0)rotate(0deg);opacity:0}50%{-o-transform:scale(1)rotate(180deg);transform:scale(1)rotate(180deg);opacity:1}}@keyframes sparkle{0%,100%{-webkit-transform:scale(0)rotate(0deg);-moz-transform:scale(0)rotate(0deg);-o-transform:scale(0)rotate(0deg);transform:scale(0)rotate(0deg);opacity:0}50%{-webkit-transform:scale(1)rotate(180deg);-moz-transform:scale(1)rotate(180deg);-o-transform:scale(1)rotate(180deg);transform:scale(1)rotate(180deg);opacity:1}}\"\n            }, void 0, false, void 0, this),\n            trail.map((point, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        transform: \"translate3d(\".concat(point.x - 2, \"px, \").concat(point.y - 2, \"px, 0) scale(\").concat((index + 1) / trail.length, \")\"),\n                        opacity: (index + 1) / trail.length * 0.5\n                    },\n                    className: \"jsx-8a615f0ebec8ca2e\" + \" \" + \"fixed pointer-events-none z-[9999] will-change-transform\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"jsx-8a615f0ebec8ca2e\" + \" \" + \"w-1 h-1 bg-gradient-to-r from-primary-400 to-secondary-400 rounded-full\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\KatekaniNyamandi\\\\bookhaven\\\\components\\\\ui\\\\CustomCursor.tsx\",\n                        lineNumber: 145,\n                        columnNumber: 11\n                    }, this)\n                }, point.id, false, {\n                    fileName: \"C:\\\\Users\\\\KatekaniNyamandi\\\\bookhaven\\\\components\\\\ui\\\\CustomCursor.tsx\",\n                    lineNumber: 135,\n                    columnNumber: 9\n                }, this)),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                ref: cursorRef,\n                style: {\n                    left: 0,\n                    top: 0,\n                    transform: \"translate3d(\".concat(mousePosition.x - 10, \"px, \").concat(mousePosition.y - 10, \"px, 0)\")\n                },\n                className: \"jsx-8a615f0ebec8ca2e\" + \" \" + \"fixed pointer-events-none z-[10000] will-change-transform\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"jsx-8a615f0ebec8ca2e\" + \" \" + \"w-5 h-5 border-2 rounded-full transition-colors duration-100 \".concat(isHovering ? \"border-primary-500 bg-primary-500/20\" : \"border-primary-400/60 bg-primary-400/10\", \" \").concat(isClicking ? \"animate-pulse\" : \"\"),\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"jsx-8a615f0ebec8ca2e\" + \" \" + \"absolute top-1/2 left-1/2 w-1 h-1 rounded-full transform -translate-x-1/2 -translate-y-1/2 transition-all duration-100 \".concat(isHovering ? \"bg-primary-600 scale-150\" : \"bg-primary-500\")\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\KatekaniNyamandi\\\\bookhaven\\\\components\\\\ui\\\\CustomCursor.tsx\",\n                            lineNumber: 170,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\KatekaniNyamandi\\\\bookhaven\\\\components\\\\ui\\\\CustomCursor.tsx\",\n                        lineNumber: 162,\n                        columnNumber: 9\n                    }, this),\n                    isClicking && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            animation: \"pulse-ring 0.4s ease-out\"\n                        },\n                        className: \"jsx-8a615f0ebec8ca2e\" + \" \" + \"absolute top-1/2 left-1/2 w-5 h-5 border-2 border-primary-500 rounded-full transform -translate-x-1/2 -translate-y-1/2\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\KatekaniNyamandi\\\\bookhaven\\\\components\\\\ui\\\\CustomCursor.tsx\",\n                        lineNumber: 179,\n                        columnNumber: 11\n                    }, this),\n                    isHovering && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    animation: \"sparkle 0.8s ease-in-out infinite\"\n                                },\n                                className: \"jsx-8a615f0ebec8ca2e\" + \" \" + \"absolute top-0 left-0 w-1.5 h-1.5 bg-secondary-400 rounded-full\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\KatekaniNyamandi\\\\bookhaven\\\\components\\\\ui\\\\CustomCursor.tsx\",\n                                lineNumber: 188,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    animation: \"sparkle 0.8s ease-in-out infinite 0.2s\"\n                                },\n                                className: \"jsx-8a615f0ebec8ca2e\" + \" \" + \"absolute bottom-0 right-0 w-1 h-1 bg-primary-400 rounded-full\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\KatekaniNyamandi\\\\bookhaven\\\\components\\\\ui\\\\CustomCursor.tsx\",\n                                lineNumber: 192,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\KatekaniNyamandi\\\\bookhaven\\\\components\\\\ui\\\\CustomCursor.tsx\",\n                lineNumber: 150,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true);\n}\n_s(CustomCursor, \"4RABhfSPEpZUkLu5u60F9FlTp8A=\");\n_c = CustomCursor;\nvar _c;\n$RefreshReg$(_c, \"CustomCursor\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvdWkvQ3VzdG9tQ3Vyc29yLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFFaUU7QUFFMUQsU0FBU0k7O0lBQ2QsTUFBTSxDQUFDQyxlQUFlQyxpQkFBaUIsR0FBR0wsK0NBQVFBLENBQUM7UUFBRU0sR0FBRztRQUFHQyxHQUFHO0lBQUU7SUFDaEUsTUFBTSxDQUFDQyxZQUFZQyxjQUFjLEdBQUdULCtDQUFRQSxDQUFDO0lBQzdDLE1BQU0sQ0FBQ1UsWUFBWUMsY0FBYyxHQUFHWCwrQ0FBUUEsQ0FBQztJQUM3QyxNQUFNLENBQUNZLE9BQU9DLFNBQVMsR0FBR2IsK0NBQVFBLENBRWhDLEVBQUU7SUFDSixNQUFNYyxZQUFZYiw2Q0FBTUEsQ0FBaUI7SUFDekMsTUFBTWMsZUFBZWQsNkNBQU1BO0lBQzNCLE1BQU1lLGtCQUFrQmYsNkNBQU1BLENBQVM7SUFFdkMscUNBQXFDO0lBQ3JDLE1BQU1nQix1QkFBdUJmLGtEQUFXQSxDQUN0QyxDQUFDSSxHQUFXQztRQUNWLElBQUlPLFVBQVVJLE9BQU8sRUFBRTtZQUNyQkosVUFBVUksT0FBTyxDQUFDQyxLQUFLLENBQUNDLFNBQVMsR0FBRyxlQUNsQ2IsT0FEaURELElBQUksSUFBRyxRQUUxQ0UsT0FEZEQsSUFBSSxJQUNMLGlCQUNDRyxPQURjRixhQUFhLE1BQU0sR0FBRSxNQUVwQyxPQURDRSxhQUFhLGVBQWU7UUFFaEM7SUFDRixHQUNBO1FBQUNGO1FBQVlFO0tBQVc7SUFHMUJYLGdEQUFTQSxDQUFDO1FBQ1IsSUFBSXNCLFVBQVU7UUFFZCxNQUFNQyxzQkFBc0IsQ0FBQ0M7WUFDM0IsTUFBTWpCLElBQUlpQixFQUFFQyxPQUFPO1lBQ25CLE1BQU1qQixJQUFJZ0IsRUFBRUUsT0FBTztZQUVuQix5REFBeUQ7WUFDekRwQixpQkFBaUI7Z0JBQUVDO2dCQUFHQztZQUFFO1lBRXhCLDhCQUE4QjtZQUM5QixJQUFJUSxhQUFhRyxPQUFPLEVBQUU7Z0JBQ3hC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V0FBVztnQ0FBb0M7MEVBRDlDOzs7Ozs7MENBR1osOERBQUNOO2dDQUVDaEMsT0FBTztvQ0FBRXNDLFdBQVc7Z0NBQXlDOzBFQURuRDs7Ozs7Ozs7Ozs7Ozs7OztBQVF4QjtHQXBNZ0J0RDtLQUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9jb21wb25lbnRzL3VpL0N1c3RvbUN1cnNvci50c3g/OTllNSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcclxuXHJcbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUsIHVzZVJlZiwgdXNlQ2FsbGJhY2sgfSBmcm9tIFwicmVhY3RcIjtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBDdXN0b21DdXJzb3IoKSB7XHJcbiAgY29uc3QgW21vdXNlUG9zaXRpb24sIHNldE1vdXNlUG9zaXRpb25dID0gdXNlU3RhdGUoeyB4OiAwLCB5OiAwIH0pO1xyXG4gIGNvbnN0IFtpc0hvdmVyaW5nLCBzZXRJc0hvdmVyaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbaXNDbGlja2luZywgc2V0SXNDbGlja2luZ10gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgW3RyYWlsLCBzZXRUcmFpbF0gPSB1c2VTdGF0ZTxcclxuICAgIEFycmF5PHsgeDogbnVtYmVyOyB5OiBudW1iZXI7IGlkOiBudW1iZXIgfT5cclxuICA+KFtdKTtcclxuICBjb25zdCBjdXJzb3JSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpO1xyXG4gIGNvbnN0IGFuaW1hdGlvblJlZiA9IHVzZVJlZjxudW1iZXI+KCk7XHJcbiAgY29uc3QgbGFzdFRyYWlsVXBkYXRlID0gdXNlUmVmPG51bWJlcj4oMCk7XHJcblxyXG4gIC8vIFVzZSBSQUYgZm9yIHNtb290aCBjdXJzb3IgbW92ZW1lbnRcclxuICBjb25zdCB1cGRhdGVDdXJzb3JQb3NpdGlvbiA9IHVzZUNhbGxiYWNrKFxyXG4gICAgKHg6IG51bWJlciwgeTogbnVtYmVyKSA9PiB7XHJcbiAgICAgIGlmIChjdXJzb3JSZWYuY3VycmVudCkge1xyXG4gICAgICAgIGN1cnNvclJlZi5jdXJyZW50LnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUzZCgke3ggLSAxMH1weCwgJHtcclxuICAgICAgICAgIHkgLSAxMFxyXG4gICAgICAgIH1weCwgMCkgc2NhbGUoJHtpc0hvdmVyaW5nID8gMS41IDogMX0pICR7XHJcbiAgICAgICAgICBpc0NsaWNraW5nID8gXCJzY2FsZSgwLjgpXCIgOiBcIlwiXHJcbiAgICAgICAgfWA7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBbaXNIb3ZlcmluZywgaXNDbGlja2luZ11cclxuICApO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgbGV0IHRyYWlsSWQgPSAwO1xyXG5cclxuICAgIGNvbnN0IHVwZGF0ZU1vdXNlUG9zaXRpb24gPSAoZTogTW91c2VFdmVudCkgPT4ge1xyXG4gICAgICBjb25zdCB4ID0gZS5jbGllbnRYO1xyXG4gICAgICBjb25zdCB5ID0gZS5jbGllbnRZO1xyXG5cclxuICAgICAgLy8gSW1tZWRpYXRlbHkgdXBkYXRlIHBvc2l0aW9uIHdpdGhvdXQgc3RhdGUgdG8gYXZvaWQgbGFnXHJcbiAgICAgIHNldE1vdXNlUG9zaXRpb24oeyB4LCB5IH0pO1xyXG5cclxuICAgICAgLy8gVXNlIFJBRiBmb3Igc21vb3RoIG1vdmVtZW50XHJcbiAgICAgIGlmIChhbmltYXRpb25SZWYuY3VycmVudCkge1xyXG4gICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKGFuaW1hdGlvblJlZi5jdXJyZW50KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgYW5pbWF0aW9uUmVmLmN1cnJlbnQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xyXG4gICAgICAgIHVwZGF0ZUN1cnNvclBvc2l0aW9uKHgsIHkpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIC8vIFRocm90dGxlIHRyYWlsIHVwZGF0ZXMgZm9yIGJldHRlciBwZXJmb3JtYW5jZVxyXG4gICAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xyXG4gICAgICBpZiAobm93IC0gbGFzdFRyYWlsVXBkYXRlLmN1cnJlbnQgPiAxNikge1xyXG4gICAgICAgIC8vIH42MGZwc1xyXG4gICAgICAgIGxhc3RUcmFpbFVwZGF0ZS5jdXJyZW50ID0gbm93O1xyXG4gICAgICAgIHNldFRyYWlsKChwcmV2KSA9PiB7XHJcbiAgICAgICAgICBjb25zdCBuZXdUcmFpbCA9IFsuLi5wcmV2LCB7IHgsIHksIGlkOiB0cmFpbElkKysgfV07XHJcbiAgICAgICAgICByZXR1cm4gbmV3VHJhaWwuc2xpY2UoLTYpOyAvLyBSZWR1Y2VkIHRyYWlsIGxlbmd0aCBmb3IgYmV0dGVyIHBlcmZvcm1hbmNlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgaGFuZGxlTW91c2VEb3duID0gKCkgPT4gc2V0SXNDbGlja2luZyh0cnVlKTtcclxuICAgIGNvbnN0IGhhbmRsZU1vdXNlVXAgPSAoKSA9PiBzZXRJc0NsaWNraW5nKGZhbHNlKTtcclxuXHJcbiAgICAvLyBEZWJvdW5jZWQgaG92ZXIgZGV0ZWN0aW9uIGZvciBiZXR0ZXIgcGVyZm9ybWFuY2VcclxuICAgIGxldCBob3ZlclRpbWVvdXQ6IE5vZGVKUy5UaW1lb3V0O1xyXG4gICAgY29uc3QgaGFuZGxlTW91c2VPdmVyID0gKGU6IE1vdXNlRXZlbnQpID0+IHtcclxuICAgICAgY2xlYXJUaW1lb3V0KGhvdmVyVGltZW91dCk7XHJcbiAgICAgIGhvdmVyVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xyXG4gICAgICAgIGNvbnN0IGlzSW50ZXJhY3RpdmUgPVxyXG4gICAgICAgICAgdGFyZ2V0Lm1hdGNoZXMoXHJcbiAgICAgICAgICAgICdidXR0b24sIGEsIGlucHV0LCB0ZXh0YXJlYSwgc2VsZWN0LCBbcm9sZT1cImJ1dHRvblwiXSwgLmN1cnNvci1wb2ludGVyJ1xyXG4gICAgICAgICAgKSB8fFxyXG4gICAgICAgICAgdGFyZ2V0LmNsb3Nlc3QoXHJcbiAgICAgICAgICAgICdidXR0b24sIGEsIGlucHV0LCB0ZXh0YXJlYSwgc2VsZWN0LCBbcm9sZT1cImJ1dHRvblwiXSwgLmN1cnNvci1wb2ludGVyJ1xyXG4gICAgICAgICAgKTtcclxuICAgICAgICBzZXRJc0hvdmVyaW5nKCEhaXNJbnRlcmFjdGl2ZSk7XHJcbiAgICAgIH0sIDUwKTsgLy8gU21hbGwgZGVsYXkgdG8gcHJldmVudCBleGNlc3NpdmUgdXBkYXRlc1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBVc2UgcGFzc2l2ZSBsaXN0ZW5lcnMgZm9yIGJldHRlciBwZXJmb3JtYW5jZVxyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCB1cGRhdGVNb3VzZVBvc2l0aW9uLCB7XHJcbiAgICAgIHBhc3NpdmU6IHRydWUsXHJcbiAgICB9KTtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW92ZXJcIiwgaGFuZGxlTW91c2VPdmVyLCB7IHBhc3NpdmU6IHRydWUgfSk7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIGhhbmRsZU1vdXNlRG93bik7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCBoYW5kbGVNb3VzZVVwKTtcclxuXHJcbiAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIHVwZGF0ZU1vdXNlUG9zaXRpb24pO1xyXG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2VvdmVyXCIsIGhhbmRsZU1vdXNlT3Zlcik7XHJcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgaGFuZGxlTW91c2VEb3duKTtcclxuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgaGFuZGxlTW91c2VVcCk7XHJcbiAgICAgIGlmIChhbmltYXRpb25SZWYuY3VycmVudCkge1xyXG4gICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKGFuaW1hdGlvblJlZi5jdXJyZW50KTtcclxuICAgICAgfVxyXG4gICAgICBjbGVhclRpbWVvdXQoaG92ZXJUaW1lb3V0KTtcclxuICAgIH07XHJcbiAgfSwgW3VwZGF0ZUN1cnNvclBvc2l0aW9uXSk7XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8PlxyXG4gICAgICB7LyogSGlkZSBkZWZhdWx0IGN1cnNvciAqL31cclxuICAgICAgPHN0eWxlIGpzeCBnbG9iYWw+e2BcclxuICAgICAgICAqIHtcclxuICAgICAgICAgIGN1cnNvcjogbm9uZSAhaW1wb3J0YW50O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgQGtleWZyYW1lcyBwdWxzZS1yaW5nIHtcclxuICAgICAgICAgIDAlIHtcclxuICAgICAgICAgICAgdHJhbnNmb3JtOiBzY2FsZSgwLjgpO1xyXG4gICAgICAgICAgICBvcGFjaXR5OiAxO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgMTAwJSB7XHJcbiAgICAgICAgICAgIHRyYW5zZm9ybTogc2NhbGUoMik7XHJcbiAgICAgICAgICAgIG9wYWNpdHk6IDA7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBAa2V5ZnJhbWVzIHNwYXJrbGUge1xyXG4gICAgICAgICAgMCUsXHJcbiAgICAgICAgICAxMDAlIHtcclxuICAgICAgICAgICAgdHJhbnNmb3JtOiBzY2FsZSgwKSByb3RhdGUoMGRlZyk7XHJcbiAgICAgICAgICAgIG9wYWNpdHk6IDA7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICA1MCUge1xyXG4gICAgICAgICAgICB0cmFuc2Zvcm06IHNjYWxlKDEpIHJvdGF0ZSgxODBkZWcpO1xyXG4gICAgICAgICAgICBvcGFjaXR5OiAxO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgYH08L3N0eWxlPlxyXG5cclxuICAgICAgey8qIE1vdXNlIHRyYWlsIC0gT3B0aW1pemVkICovfVxyXG4gICAgICB7dHJhaWwubWFwKChwb2ludCwgaW5kZXgpID0+IChcclxuICAgICAgICA8ZGl2XHJcbiAgICAgICAgICBrZXk9e3BvaW50LmlkfVxyXG4gICAgICAgICAgY2xhc3NOYW1lPVwiZml4ZWQgcG9pbnRlci1ldmVudHMtbm9uZSB6LVs5OTk5XSB3aWxsLWNoYW5nZS10cmFuc2Zvcm1cIlxyXG4gICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgdHJhbnNmb3JtOiBgdHJhbnNsYXRlM2QoJHtwb2ludC54IC0gMn1weCwgJHtcclxuICAgICAgICAgICAgICBwb2ludC55IC0gMlxyXG4gICAgICAgICAgICB9cHgsIDApIHNjYWxlKCR7KGluZGV4ICsgMSkgLyB0cmFpbC5sZW5ndGh9KWAsXHJcbiAgICAgICAgICAgIG9wYWNpdHk6ICgoaW5kZXggKyAxKSAvIHRyYWlsLmxlbmd0aCkgKiAwLjUsIC8vIFJlZHVjZWQgb3BhY2l0eSBmb3IgYmV0dGVyIHBlcmZvcm1hbmNlXHJcbiAgICAgICAgICB9fVxyXG4gICAgICAgID5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xIGgtMSBiZy1ncmFkaWVudC10by1yIGZyb20tcHJpbWFyeS00MDAgdG8tc2Vjb25kYXJ5LTQwMCByb3VuZGVkLWZ1bGxcIj48L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgKSl9XHJcblxyXG4gICAgICB7LyogTWFpbiBjdXJzb3IgLSBIYXJkd2FyZSBhY2NlbGVyYXRlZCAqL31cclxuICAgICAgPGRpdlxyXG4gICAgICAgIHJlZj17Y3Vyc29yUmVmfVxyXG4gICAgICAgIGNsYXNzTmFtZT1cImZpeGVkIHBvaW50ZXItZXZlbnRzLW5vbmUgei1bMTAwMDBdIHdpbGwtY2hhbmdlLXRyYW5zZm9ybVwiXHJcbiAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgIGxlZnQ6IDAsXHJcbiAgICAgICAgICB0b3A6IDAsXHJcbiAgICAgICAgICB0cmFuc2Zvcm06IGB0cmFuc2xhdGUzZCgke21vdXNlUG9zaXRpb24ueCAtIDEwfXB4LCAke1xyXG4gICAgICAgICAgICBtb3VzZVBvc2l0aW9uLnkgLSAxMFxyXG4gICAgICAgICAgfXB4LCAwKWAsXHJcbiAgICAgICAgfX1cclxuICAgICAgPlxyXG4gICAgICAgIHsvKiBPdXRlciByaW5nICovfVxyXG4gICAgICAgIDxkaXZcclxuICAgICAgICAgIGNsYXNzTmFtZT17YHctNSBoLTUgYm9yZGVyLTIgcm91bmRlZC1mdWxsIHRyYW5zaXRpb24tY29sb3JzIGR1cmF0aW9uLTEwMCAke1xyXG4gICAgICAgICAgICBpc0hvdmVyaW5nXHJcbiAgICAgICAgICAgICAgPyBcImJvcmRlci1wcmltYXJ5LTUwMCBiZy1wcmltYXJ5LTUwMC8yMFwiXHJcbiAgICAgICAgICAgICAgOiBcImJvcmRlci1wcmltYXJ5LTQwMC82MCBiZy1wcmltYXJ5LTQwMC8xMFwiXHJcbiAgICAgICAgICB9ICR7aXNDbGlja2luZyA/IFwiYW5pbWF0ZS1wdWxzZVwiIDogXCJcIn1gfVxyXG4gICAgICAgID5cclxuICAgICAgICAgIHsvKiBJbm5lciBkb3QgKi99XHJcbiAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgIGNsYXNzTmFtZT17YGFic29sdXRlIHRvcC0xLzIgbGVmdC0xLzIgdy0xIGgtMSByb3VuZGVkLWZ1bGwgdHJhbnNmb3JtIC10cmFuc2xhdGUteC0xLzIgLXRyYW5zbGF0ZS15LTEvMiB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0xMDAgJHtcclxuICAgICAgICAgICAgICBpc0hvdmVyaW5nID8gXCJiZy1wcmltYXJ5LTYwMCBzY2FsZS0xNTBcIiA6IFwiYmctcHJpbWFyeS01MDBcIlxyXG4gICAgICAgICAgICB9YH1cclxuICAgICAgICAgID48L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgey8qIFB1bHNlIHJpbmcgb24gY2xpY2sgKi99XHJcbiAgICAgICAge2lzQ2xpY2tpbmcgJiYgKFxyXG4gICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSB0b3AtMS8yIGxlZnQtMS8yIHctNSBoLTUgYm9yZGVyLTIgYm9yZGVyLXByaW1hcnktNTAwIHJvdW5kZWQtZnVsbCB0cmFuc2Zvcm0gLXRyYW5zbGF0ZS14LTEvMiAtdHJhbnNsYXRlLXktMS8yXCJcclxuICAgICAgICAgICAgc3R5bGU9e3sgYW5pbWF0aW9uOiBcInB1bHNlLXJpbmcgMC40cyBlYXNlLW91dFwiIH19XHJcbiAgICAgICAgICA+PC9kaXY+XHJcbiAgICAgICAgKX1cclxuXHJcbiAgICAgICAgey8qIFNwYXJrbGUgZWZmZWN0cyBvbiBob3ZlciAtIFJlZHVjZWQgZm9yIHBlcmZvcm1hbmNlICovfVxyXG4gICAgICAgIHtpc0hvdmVyaW5nICYmIChcclxuICAgICAgICAgIDw+XHJcbiAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSB0b3AtMCBsZWZ0LTAgdy0xLjUgaC0xLjUgYmctc2Vjb25kYXJ5LTQwMCByb3VuZGVkLWZ1bGxcIlxyXG4gICAgICAgICAgICAgIHN0eWxlPXt7IGFuaW1hdGlvbjogXCJzcGFya2xlIDAuOHMgZWFzZS1pbi1vdXQgaW5maW5pdGVcIiB9fVxyXG4gICAgICAgICAgICA+PC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSBib3R0b20tMCByaWdodC0wIHctMSBoLTEgYmctcHJpbWFyeS00MDAgcm91bmRlZC1mdWxsXCJcclxuICAgICAgICAgICAgICBzdHlsZT17eyBhbmltYXRpb246IFwic3BhcmtsZSAwLjhzIGVhc2UtaW4tb3V0IGluZmluaXRlIDAuMnNcIiB9fVxyXG4gICAgICAgICAgICA+PC9kaXY+XHJcbiAgICAgICAgICA8Lz5cclxuICAgICAgICApfVxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvPlxyXG4gICk7XHJcbn1cclxuIl0sIm5hbWVzIjpbInVzZUVmZmVjdCIsInVzZVN0YXRlIiwidXNlUmVmIiwidXNlQ2FsbGJhY2siLCJDdXN0b21DdXJzb3IiLCJtb3VzZVBvc2l0aW9uIiwic2V0TW91c2VQb3NpdGlvbiIsIngiLCJ5IiwiaXNIb3ZlcmluZyIsInNldElzSG92ZXJpbmciLCJpc0NsaWNraW5nIiwic2V0SXNDbGlja2luZyIsInRyYWlsIiwic2V0VHJhaWwiLCJjdXJzb3JSZWYiLCJhbmltYXRpb25SZWYiLCJsYXN0VHJhaWxVcGRhdGUiLCJ1cGRhdGVDdXJzb3JQb3NpdGlvbiIsImN1cnJlbnQiLCJzdHlsZSIsInRyYW5zZm9ybSIsInRyYWlsSWQiLCJ1cGRhdGVNb3VzZVBvc2l0aW9uIiwiZSIsImNsaWVudFgiLCJjbGllbnRZIiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJub3ciLCJEYXRlIiwicHJldiIsIm5ld1RyYWlsIiwiaWQiLCJzbGljZSIsImhhbmRsZU1vdXNlRG93biIsImhhbmRsZU1vdXNlVXAiLCJob3ZlclRpbWVvdXQiLCJoYW5kbGVNb3VzZU92ZXIiLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0IiwidGFyZ2V0IiwiaXNJbnRlcmFjdGl2ZSIsIm1hdGNoZXMiLCJjbG9zZXN0IiwiZG9jdW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwicGFzc2l2ZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJtYXAiLCJwb2ludCIsImluZGV4IiwiZGl2IiwibGVuZ3RoIiwib3BhY2l0eSIsInJlZiIsImxlZnQiLCJ0b3AiLCJhbmltYXRpb24iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/ui/CustomCursor.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./components/utils/DataMigration.tsx":
/*!********************************************!*\
  !*** ./components/utils/DataMigration.tsx ***!
  \********************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ DataMigration; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _stores_useAppStore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../stores/useAppStore */ \"(app-pages-browser)/./stores/useAppStore.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ var _s = $RefreshSig$();\n\n\nfunction DataMigration() {\n    _s();\n    const _migrateOldPlaceholders = (0,_stores_useAppStore__WEBPACK_IMPORTED_MODULE_1__.useAppStore)((state)=>state._migrateOldPlaceholders);\n    const userBooks = (0,_stores_useAppStore__WEBPACK_IMPORTED_MODULE_1__.useAppStore)((state)=>state.userBooks);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        // Check if any books have the old placeholder URL\n        const hasOldPlaceholders = userBooks.some((book)=>book.cover.includes(\"via.placeholder.com\"));\n        if (hasOldPlaceholders) {\n            console.log(\"Migrating old placeholder URLs...\");\n            _migrateOldPlaceholders();\n        }\n        // Also clear any Next.js cache that might contain the old URLs\n        if (true) {\n            // Clear any cached image URLs\n            try {\n                const cacheNames = [\n                    \"next-image\",\n                    \"next-static-chunks\"\n                ];\n                cacheNames.forEach(async (cacheName)=>{\n                    if (\"caches\" in window) {\n                        const cache = await caches.open(cacheName);\n                        const keys = await cache.keys();\n                        keys.forEach(async (request)=>{\n                            if (request.url.includes(\"via.placeholder.com\")) {\n                                await cache.delete(request);\n                            }\n                        });\n                    }\n                });\n            } catch (error) {\n                // Silent fail for cache clearing\n                console.log(\"Cache clearing not available\");\n            }\n        }\n    }, [\n        _migrateOldPlaceholders,\n        userBooks\n    ]);\n    return null; // This component doesn't render anything\n}\n_s(DataMigration, \"oqU3tLXc6B25bUi7t6qpAuGPLog=\", false, function() {\n    return [\n        _stores_useAppStore__WEBPACK_IMPORTED_MODULE_1__.useAppStore,\n        _stores_useAppStore__WEBPACK_IMPORTED_MODULE_1__.useAppStore\n    ];\n});\n_c = DataMigration;\nvar _c;\n$RefreshReg$(_c, \"DataMigration\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvdXRpbHMvRGF0YU1pZ3JhdGlvbi50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFFa0M7QUFDcUI7QUFFeEMsU0FBU0U7O0lBQ3RCLE1BQU1DLDBCQUEwQkYsZ0VBQVdBLENBQ3pDLENBQUNHLFFBQVVBLE1BQU1ELHVCQUF1QjtJQUUxQyxNQUFNRSxZQUFZSixnRUFBV0EsQ0FBQyxDQUFDRyxRQUFVQSxNQUFNQyxTQUFTO0lBRXhETCxnREFBU0EsQ0FBQztRQUNSLGtEQUFrRDtRQUNsRCxNQUFNTSxxQkFBcUJELFVBQVVFLElBQUksQ0FBQyxDQUFDQyxPQUN6Q0EsS0FBS0MsS0FBSyxDQUFDQyxRQUFRLENBQUM7UUFHdEIsSUFBSUosb0JBQW9CO1lBQ3RCSyxRQUFRQyxHQUFHLENBQUM7WUFDWlQ7UUFDRjtRQUVBLCtEQUErRDtRQUMvRCxJQUFJLElBQTZCLEVBQUU7WUFDakMsOEJBQThCO1lBQzlCLElBQUk7Z0JBQ0YsTUFBTVUsYUFBYTtvQkFBQztvQkFBYztpQkFBcUI7Z0JBQ3ZEQSxXQUFXQyxPQUFPLENBQUMsT0FBT0M7b0JBQ3hCLElBQUksWUFBWUMsUUFBUTt3QkFDdEIsTUFBTUMsUUFBUSxNQUFNQyxPQUFPQyxJQUFJLENBQUNKO3dCQUNoQyxNQUFNSyxPQUFPLE1BQU1ILE1BQU1HLElBQUk7d0JBQzdCQSxLQUFLTixPQUFPLENBQUMsT0FBT087NEJBQ2xCLElBQUlBLFFBQVFDLEdBQUcsQ0FBQ1osUUFBUSxDQUFDLHdCQUF3QjtnQ0FDL0MsTUFBTU8sTUFBTU0sTUFBTSxDQUFDRjs0QkFDckI7d0JBQ0Y7b0JBQ0Y7Z0JBQ0Y7WUFDRixFQUFFLE9BQU9HLE9BQU87Z0JBQ2QsaUNBQWlDO2dCQUNqQ2IsUUFBUUMsR0FBRyxDQUFDO1lBQ2Q7UUFDRjtJQUNGLEdBQUc7UUFBQ1Q7UUFBeUJFO0tBQVU7SUFFdkMsT0FBTyxNQUFNLHlDQUF5QztBQUN4RDtHQXpDd0JIOztRQUNVRCw0REFBV0E7UUFHekJBLDREQUFXQTs7O0tBSlBDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2NvbXBvbmVudHMvdXRpbHMvRGF0YU1pZ3JhdGlvbi50c3g/NDEyYiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcclxuXHJcbmltcG9ydCB7IHVzZUVmZmVjdCB9IGZyb20gXCJyZWFjdFwiO1xyXG5pbXBvcnQgeyB1c2VBcHBTdG9yZSB9IGZyb20gXCIuLi8uLi9zdG9yZXMvdXNlQXBwU3RvcmVcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIERhdGFNaWdyYXRpb24oKSB7XHJcbiAgY29uc3QgX21pZ3JhdGVPbGRQbGFjZWhvbGRlcnMgPSB1c2VBcHBTdG9yZShcclxuICAgIChzdGF0ZSkgPT4gc3RhdGUuX21pZ3JhdGVPbGRQbGFjZWhvbGRlcnNcclxuICApO1xyXG4gIGNvbnN0IHVzZXJCb29rcyA9IHVzZUFwcFN0b3JlKChzdGF0ZSkgPT4gc3RhdGUudXNlckJvb2tzKTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIC8vIENoZWNrIGlmIGFueSBib29rcyBoYXZlIHRoZSBvbGQgcGxhY2Vob2xkZXIgVVJMXHJcbiAgICBjb25zdCBoYXNPbGRQbGFjZWhvbGRlcnMgPSB1c2VyQm9va3Muc29tZSgoYm9vaykgPT5cclxuICAgICAgYm9vay5jb3Zlci5pbmNsdWRlcyhcInZpYS5wbGFjZWhvbGRlci5jb21cIilcclxuICAgICk7XHJcblxyXG4gICAgaWYgKGhhc09sZFBsYWNlaG9sZGVycykge1xyXG4gICAgICBjb25zb2xlLmxvZyhcIk1pZ3JhdGluZyBvbGQgcGxhY2Vob2xkZXIgVVJMcy4uLlwiKTtcclxuICAgICAgX21pZ3JhdGVPbGRQbGFjZWhvbGRlcnMoKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBBbHNvIGNsZWFyIGFueSBOZXh0LmpzIGNhY2hlIHRoYXQgbWlnaHQgY29udGFpbiB0aGUgb2xkIFVSTHNcclxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgIC8vIENsZWFyIGFueSBjYWNoZWQgaW1hZ2UgVVJMc1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IGNhY2hlTmFtZXMgPSBbXCJuZXh0LWltYWdlXCIsIFwibmV4dC1zdGF0aWMtY2h1bmtzXCJdO1xyXG4gICAgICAgIGNhY2hlTmFtZXMuZm9yRWFjaChhc3luYyAoY2FjaGVOYW1lKSA9PiB7XHJcbiAgICAgICAgICBpZiAoXCJjYWNoZXNcIiBpbiB3aW5kb3cpIHtcclxuICAgICAgICAgICAgY29uc3QgY2FjaGUgPSBhd2FpdCBjYWNoZXMub3BlbihjYWNoZU5hbWUpO1xyXG4gICAgICAgICAgICBjb25zdCBrZXlzID0gYXdhaXQgY2FjaGUua2V5cygpO1xyXG4gICAgICAgICAgICBrZXlzLmZvckVhY2goYXN5bmMgKHJlcXVlc3QpID0+IHtcclxuICAgICAgICAgICAgICBpZiAocmVxdWVzdC51cmwuaW5jbHVkZXMoXCJ2aWEucGxhY2Vob2xkZXIuY29tXCIpKSB7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBjYWNoZS5kZWxldGUocmVxdWVzdCk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAvLyBTaWxlbnQgZmFpbCBmb3IgY2FjaGUgY2xlYXJpbmdcclxuICAgICAgICBjb25zb2xlLmxvZyhcIkNhY2hlIGNsZWFyaW5nIG5vdCBhdmFpbGFibGVcIik7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9LCBbX21pZ3JhdGVPbGRQbGFjZWhvbGRlcnMsIHVzZXJCb29rc10pO1xyXG5cclxuICByZXR1cm4gbnVsbDsgLy8gVGhpcyBjb21wb25lbnQgZG9lc24ndCByZW5kZXIgYW55dGhpbmdcclxufVxyXG4iXSwibmFtZXMiOlsidXNlRWZmZWN0IiwidXNlQXBwU3RvcmUiLCJEYXRhTWlncmF0aW9uIiwiX21pZ3JhdGVPbGRQbGFjZWhvbGRlcnMiLCJzdGF0ZSIsInVzZXJCb29rcyIsImhhc09sZFBsYWNlaG9sZGVycyIsInNvbWUiLCJib29rIiwiY292ZXIiLCJpbmNsdWRlcyIsImNvbnNvbGUiLCJsb2ciLCJjYWNoZU5hbWVzIiwiZm9yRWFjaCIsImNhY2hlTmFtZSIsIndpbmRvdyIsImNhY2hlIiwiY2FjaGVzIiwib3BlbiIsImtleXMiLCJyZXF1ZXN0IiwidXJsIiwiZGVsZXRlIiwiZXJyb3IiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/utils/DataMigration.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./stores/useAppStore.ts":
/*!*******************************!*\
  !*** ./stores/useAppStore.ts ***!
  \*******************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useAppLoading: function() { return /* binding */ useAppLoading; },\n/* harmony export */   useAppStore: function() { return /* binding */ useAppStore; },\n/* harmony export */   useHasCompletedOnboarding: function() { return /* binding */ useHasCompletedOnboarding; },\n/* harmony export */   useHydratedStore: function() { return /* binding */ useHydratedStore; },\n/* harmony export */   useOnboardingActions: function() { return /* binding */ useOnboardingActions; },\n/* harmony export */   useOnboardingState: function() { return /* binding */ useOnboardingState; },\n/* harmony export */   useOnboardingStep: function() { return /* binding */ useOnboardingStep; },\n/* harmony export */   useUserData: function() { return /* binding */ useUserData; }\n/* harmony export */ });\n/* harmony import */ var zustand__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! zustand */ \"(app-pages-browser)/./node_modules/zustand/esm/react.mjs\");\n/* harmony import */ var zustand_middleware__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! zustand/middleware */ \"(app-pages-browser)/./node_modules/zustand/esm/middleware.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\n\n\nconst useAppStore = (0,zustand__WEBPACK_IMPORTED_MODULE_1__.create)()((0,zustand_middleware__WEBPACK_IMPORTED_MODULE_2__.persist)((set, get)=>({\n        // Initial state\n        hasCompletedOnboarding: false,\n        isOnboardingInProgress: false,\n        currentOnboardingStep: 1,\n        userPreferences: null,\n        bookRatings: [],\n        authorRatings: [],\n        userBooks: [],\n        readingGoals: [],\n        isLoading: false,\n        // Helper function to migrate old placeholder URLs\n        _migrateOldPlaceholders: ()=>set((state)=>({\n                    userBooks: state.userBooks.map((book)=>({\n                            ...book,\n                            cover: book.cover.includes(\"via.placeholder.com\") ? \"/placeholder-book.jpg\" : book.cover\n                        }))\n                })),\n        // Basic setters\n        setOnboardingCompleted: (completed)=>set({\n                hasCompletedOnboarding: completed\n            }),\n        setOnboardingStep: (step)=>set({\n                currentOnboardingStep: step\n            }),\n        setOnboardingInProgress: (inProgress)=>set({\n                isOnboardingInProgress: inProgress\n            }),\n        setUserPreferences: (preferences)=>set({\n                userPreferences: preferences\n            }),\n        setBookRatings: (ratings)=>set({\n                bookRatings: ratings\n            }),\n        setAuthorRatings: (ratings)=>set({\n                authorRatings: ratings\n            }),\n        // User books actions\n        setUserBooks: (books)=>set({\n                userBooks: books\n            }),\n        addUserBook: (book)=>set((state)=>({\n                    userBooks: [\n                        ...state.userBooks,\n                        book\n                    ]\n                })),\n        updateUserBook: (bookId, updates)=>set((state)=>({\n                    userBooks: state.userBooks.map((book)=>book.id === bookId ? {\n                            ...book,\n                            ...updates\n                        } : book)\n                })),\n        removeUserBook: (bookId)=>set((state)=>({\n                    userBooks: state.userBooks.filter((book)=>book.id !== bookId)\n                })),\n        clearOldDiscoverBooks: ()=>set((state)=>({\n                    userBooks: state.userBooks.filter((book)=>!book.id.startsWith(\"discover-\"))\n                })),\n        isBookInLibrary: (bookId)=>{\n            const state = get();\n            return state.userBooks.some((book)=>book.id === bookId);\n        },\n        getBookFromLibrary: (bookId)=>{\n            const state = get();\n            return state.userBooks.find((book)=>book.id === bookId);\n        },\n        // Reading goals actions\n        setReadingGoals: (goals)=>set({\n                readingGoals: goals\n            }),\n        addReadingGoal: (goal)=>set((state)=>({\n                    readingGoals: [\n                        ...state.readingGoals,\n                        goal\n                    ]\n                })),\n        updateReadingGoal: (goalId, updates)=>set((state)=>({\n                    readingGoals: state.readingGoals.map((goal)=>goal.id === goalId ? {\n                            ...goal,\n                            ...updates\n                        } : goal)\n                })),\n        removeReadingGoal: (goalId)=>set((state)=>({\n                    readingGoals: state.readingGoals.filter((goal)=>goal.id !== goalId)\n                })),\n        getActiveReadingGoal: (year)=>{\n            const state = get();\n            const currentYear = year || new Date().getFullYear();\n            return state.readingGoals.find((goal)=>goal.year === currentYear && goal.isActive);\n        },\n        likeBook: (bookId, bookData)=>set((state)=>{\n                const existingBook = state.userBooks.find((book)=>book.id === bookId);\n                if (existingBook) {\n                    // Update existing book\n                    return {\n                        userBooks: state.userBooks.map((book)=>book.id === bookId ? {\n                                ...book,\n                                isLiked: true\n                            } : book)\n                    };\n                } else {\n                    // Add new book as liked\n                    const newBook = {\n                        id: bookId,\n                        title: bookData.title || \"Unknown Title\",\n                        author: bookData.author || \"Unknown Author\",\n                        cover: bookData.cover || \"/placeholder-book.jpg\",\n                        description: bookData.description || \"\",\n                        rating: bookData.rating || 0,\n                        status: \"want-to-read\",\n                        dateAdded: new Date().toISOString().split(\"T\")[0],\n                        genre: bookData.genre || [],\n                        mood: bookData.mood || [],\n                        isbn: bookData.isbn || \"\",\n                        pages: bookData.pages || 0,\n                        publishedYear: bookData.publishedYear || new Date().getFullYear(),\n                        isLiked: true,\n                        ...bookData\n                    };\n                    return {\n                        userBooks: [\n                            ...state.userBooks,\n                            newBook\n                        ]\n                    };\n                }\n            }),\n        unlikeBook: (bookId)=>set((state)=>({\n                    userBooks: state.userBooks.map((book)=>book.id === bookId ? {\n                            ...book,\n                            isLiked: false\n                        } : book)\n                })),\n        rateBook: (bookId, rating, bookData)=>set((state)=>{\n                const existingBook = state.userBooks.find((book)=>book.id === bookId);\n                if (existingBook) {\n                    // Update existing book\n                    return {\n                        userBooks: state.userBooks.map((book)=>book.id === bookId ? {\n                                ...book,\n                                userRating: rating\n                            } : book)\n                    };\n                } else if (bookData) {\n                    // Add new book with rating\n                    const newBook = {\n                        id: bookId,\n                        title: bookData.title || \"Unknown Title\",\n                        author: bookData.author || \"Unknown Author\",\n                        cover: bookData.cover || \"/placeholder-book.jpg\",\n                        description: bookData.description || \"\",\n                        rating: bookData.rating || 0,\n                        status: \"want-to-read\",\n                        dateAdded: new Date().toISOString().split(\"T\")[0],\n                        genre: bookData.genre || [],\n                        mood: bookData.mood || [],\n                        isbn: bookData.isbn || \"\",\n                        pages: bookData.pages || 0,\n                        publishedYear: bookData.publishedYear || new Date().getFullYear(),\n                        userRating: rating,\n                        ...bookData\n                    };\n                    return {\n                        userBooks: [\n                            ...state.userBooks,\n                            newBook\n                        ]\n                    };\n                }\n                return state;\n            }),\n        setLoading: (loading)=>set({\n                isLoading: loading\n            }),\n        // Complex actions\n        completeOnboarding: (preferences, bookRatings, authorRatings)=>set({\n                hasCompletedOnboarding: true,\n                isOnboardingInProgress: false,\n                userPreferences: preferences,\n                bookRatings,\n                authorRatings,\n                currentOnboardingStep: 1\n            }),\n        resetOnboarding: ()=>set({\n                hasCompletedOnboarding: false,\n                isOnboardingInProgress: false,\n                currentOnboardingStep: 1,\n                userPreferences: null,\n                bookRatings: [],\n                authorRatings: []\n            }),\n        // Computed getters\n        getRecommendationData: ()=>{\n            const state = get();\n            return {\n                preferences: state.userPreferences,\n                bookRatings: state.bookRatings,\n                authorRatings: state.authorRatings\n            };\n        }\n    }), {\n    name: \"bookhaven-app-store\",\n    storage: (0,zustand_middleware__WEBPACK_IMPORTED_MODULE_2__.createJSONStorage)(()=>localStorage),\n    // Only persist certain parts of the state\n    partialize: (state)=>({\n            hasCompletedOnboarding: state.hasCompletedOnboarding,\n            userPreferences: state.userPreferences,\n            bookRatings: state.bookRatings,\n            authorRatings: state.authorRatings,\n            userBooks: state.userBooks\n        }),\n    // Add some safeguards to prevent hydration issues\n    skipHydration: false\n}));\n// Hydration-safe hook to prevent SSR mismatches\nconst useHydratedStore = ()=>{\n    const [hasHydrated, setHasHydrated] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        // Wait for Zustand to hydrate\n        const unsubscribe = useAppStore.persist.onFinishHydration(()=>{\n            setHasHydrated(true);\n        });\n        // If already hydrated\n        if (useAppStore.persist.hasHydrated()) {\n            setHasHydrated(true);\n        }\n        return unsubscribe;\n    }, []);\n    return hasHydrated;\n};\n// Individual selectors for better performance\nconst useHasCompletedOnboarding = ()=>useAppStore((state)=>state.hasCompletedOnboarding);\nconst useOnboardingStep = ()=>useAppStore((state)=>state.currentOnboardingStep);\nconst useOnboardingActions = ()=>useAppStore((state)=>({\n            setStep: state.setOnboardingStep,\n            complete: state.completeOnboarding,\n            reset: state.resetOnboarding\n        }));\n// For backward compatibility, keep the combined hook but make it more stable\nconst useOnboardingState = ()=>{\n    const hasCompleted = useAppStore((state)=>state.hasCompletedOnboarding);\n    const isInProgress = useAppStore((state)=>state.isOnboardingInProgress);\n    const currentStep = useAppStore((state)=>state.currentOnboardingStep);\n    const setCompleted = useAppStore((state)=>state.setOnboardingCompleted);\n    const setInProgress = useAppStore((state)=>state.setOnboardingInProgress);\n    const setStep = useAppStore((state)=>state.setOnboardingStep);\n    const complete = useAppStore((state)=>state.completeOnboarding);\n    const reset = useAppStore((state)=>state.resetOnboarding);\n    // Return a stable object by using useMemo if needed\n    return {\n        hasCompleted,\n        isInProgress,\n        currentStep,\n        setCompleted,\n        setInProgress,\n        setStep,\n        complete,\n        reset\n    };\n};\nconst useUserData = ()=>{\n    const preferences = useAppStore((state)=>state.userPreferences);\n    const bookRatings = useAppStore((state)=>state.bookRatings);\n    const authorRatings = useAppStore((state)=>state.authorRatings);\n    const setPreferences = useAppStore((state)=>state.setUserPreferences);\n    const setBookRatings = useAppStore((state)=>state.setBookRatings);\n    const setAuthorRatings = useAppStore((state)=>state.setAuthorRatings);\n    const getRecommendationData = useAppStore((state)=>state.getRecommendationData);\n    return {\n        preferences,\n        bookRatings,\n        authorRatings,\n        setPreferences,\n        setBookRatings,\n        setAuthorRatings,\n        getRecommendationData\n    };\n};\nconst useAppLoading = ()=>useAppStore((state)=>({\n            isLoading: state.isLoading,\n            setLoading: state.setLoading\n        }));\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3N0b3Jlcy91c2VBcHBTdG9yZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBaUM7QUFDK0I7QUFDcEI7QUEySXJDLE1BQU1LLGNBQWNMLCtDQUFNQSxHQUMvQkMsMkRBQU9BLENBQ0wsQ0FBQ0ssS0FBS0MsTUFBUztRQUNiLGdCQUFnQjtRQUNoQkMsd0JBQXdCO1FBQ3hCQyx3QkFBd0I7UUFDeEJDLHVCQUF1QjtRQUN2QkMsaUJBQWlCO1FBQ2pCQyxhQUFhLEVBQUU7UUFDZkMsZUFBZSxFQUFFO1FBQ2pCQyxXQUFXLEVBQUU7UUFDYkMsY0FBYyxFQUFFO1FBQ2hCQyxXQUFXO1FBRVgsa0RBQWtEO1FBQ2xEQyx5QkFBeUIsSUFDdkJYLElBQUksQ0FBQ1ksUUFBVztvQkFDZEosV0FBV0ksTUFBTUosU0FBUyxDQUFDSyxHQUFHLENBQUMsQ0FBQ0MsT0FBVTs0QkFDeEMsR0FBR0EsSUFBSTs0QkFDUEMsT0FBT0QsS0FBS0MsS0FBSyxDQUFDQyxRQUFRLENBQUMseUJBQ3ZCLDBCQUNBRixLQUFLQyxLQUFLO3dCQUNoQjtnQkFDRjtRQUVGLGdCQUFnQjtRQUNoQkUsd0JBQXdCLENBQUNDLFlBQ3ZCbEIsSUFBSTtnQkFBRUUsd0JBQXdCZ0I7WUFBVTtRQUUxQ0MsbUJBQW1CLENBQUNDLE9BQVNwQixJQUFJO2dCQUFFSSx1QkFBdUJnQjtZQUFLO1FBRS9EQyx5QkFBeUIsQ0FBQ0MsYUFDeEJ0QixJQUFJO2dCQUFFRyx3QkFBd0JtQjtZQUFXO1FBRTNDQyxvQkFBb0IsQ0FBQ0MsY0FDbkJ4QixJQUFJO2dCQUFFSyxpQkFBaUJtQjtZQUFZO1FBRXJDQyxnQkFBZ0IsQ0FBQ0MsVUFBWTFCLElBQUk7Z0JBQUVNLGFBQWFvQjtZQUFRO1FBRXhEQyxrQkFBa0IsQ0FBQ0QsVUFBWTFCLElBQUk7Z0JBQUVPLGVBQWVtQjtZQUFRO1FBRTVELHFCQUFxQjtRQUNyQkUsY0FBYyxDQUFDQyxRQUFVN0IsSUFBSTtnQkFBRVEsV0FBV3FC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YSxjQUFjO0lBQ2xFLE1BQU1FLG1CQUFtQjVCLFlBQVksQ0FBQ2EsUUFBVUEsTUFBTWUsZ0JBQWdCO0lBQ3RFLE1BQU1zRCx3QkFBd0JsRixZQUM1QixDQUFDYSxRQUFVQSxNQUFNcUUscUJBQXFCO0lBR3hDLE9BQU87UUFDTHpEO1FBQ0FsQjtRQUNBQztRQUNBa0c7UUFDQWhGO1FBQ0FFO1FBQ0FzRDtJQUNGO0FBQ0YsRUFBRTtBQUVLLE1BQU15QixnQkFBZ0IsSUFDM0IzRyxZQUFZLENBQUNhLFFBQVc7WUFDdEJGLFdBQVdFLE1BQU1GLFNBQVM7WUFDMUJtRSxZQUFZakUsTUFBTWlFLFVBQVU7UUFDOUIsSUFBSSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zdG9yZXMvdXNlQXBwU3RvcmUudHM/NzQwMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGUgfSBmcm9tIFwienVzdGFuZFwiO1xyXG5pbXBvcnQgeyBwZXJzaXN0LCBjcmVhdGVKU09OU3RvcmFnZSB9IGZyb20gXCJ6dXN0YW5kL21pZGRsZXdhcmVcIjtcclxuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBVc2VyUHJlZmVyZW5jZXMge1xyXG4gIGdlbnJlczogc3RyaW5nW107XHJcbiAgdG9waWNzOiBzdHJpbmdbXTtcclxuICBsYW5ndWFnZXM6IHN0cmluZ1tdO1xyXG4gIHJlYWRpbmdHb2FsPzogbnVtYmVyO1xyXG4gIHJlYWRpbmdQYWNlPzogc3RyaW5nO1xyXG4gIGJvb2tGb3JtYXRzPzogc3RyaW5nW107XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQm9va1JhdGluZyB7XHJcbiAgaWQ6IHN0cmluZztcclxuICBib29rSWQ6IHN0cmluZztcclxuICB0aXRsZTogc3RyaW5nO1xyXG4gIGF1dGhvcjogc3RyaW5nO1xyXG4gIHJhdGluZzogbnVtYmVyO1xyXG4gIGlzTGlrZWQ6IGJvb2xlYW47XHJcbiAgd2VpZ2h0OiBudW1iZXI7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQXV0aG9yUmF0aW5nIHtcclxuICBpZDogc3RyaW5nO1xyXG4gIGF1dGhvck5hbWU6IHN0cmluZztcclxuICByYXRpbmc6IG51bWJlcjtcclxuICBpc0xpa2VkOiBib29sZWFuO1xyXG4gIHdlaWdodDogbnVtYmVyO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFVzZXJCb29rIHtcclxuICBpZDogc3RyaW5nO1xyXG4gIHRpdGxlOiBzdHJpbmc7XHJcbiAgYXV0aG9yOiBzdHJpbmc7XHJcbiAgY292ZXI6IHN0cmluZztcclxuICBkZXNjcmlwdGlvbjogc3RyaW5nO1xyXG4gIHBhZ2VzOiBudW1iZXI7XHJcbiAgcHVibGlzaGVkWWVhcjogbnVtYmVyO1xyXG4gIGdlbnJlOiBzdHJpbmdbXTtcclxuICBtb29kOiBzdHJpbmdbXTtcclxuICBpc2JuOiBzdHJpbmc7XHJcbiAgcmF0aW5nOiBudW1iZXI7XHJcbiAgc3RhdHVzOiBcIndhbnQtdG8tcmVhZFwiIHwgXCJjdXJyZW50bHktcmVhZGluZ1wiIHwgXCJyZWFkXCI7XHJcbiAgZGF0ZUFkZGVkOiBzdHJpbmc7XHJcbiAgY3VycmVudFBhZ2U/OiBudW1iZXI7XHJcbiAgdXNlclJhdGluZz86IG51bWJlcjtcclxuICBub3Rlcz86IHN0cmluZztcclxuICBzdGFydGVkUmVhZGluZz86IHN0cmluZztcclxuICBmaW5pc2hlZFJlYWRpbmc/OiBzdHJpbmc7XHJcbiAgdXNlclJldmlldz86IHN0cmluZztcclxuICByZXZpZXdEYXRlPzogc3RyaW5nO1xyXG4gIGlzTGlrZWQ/OiBib29sZWFuO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFJlYWRpbmdHb2FsIHtcclxuICBpZDogc3RyaW5nO1xyXG4gIHllYXI6IG51bWJlcjtcclxuICB0YXJnZXRCb29rczogbnVtYmVyO1xyXG4gIHRhcmdldFBhZ2VzPzogbnVtYmVyO1xyXG4gIHRhcmdldEdlbnJlcz86IHN0cmluZ1tdO1xyXG4gIGlzQWN0aXZlOiBib29sZWFuO1xyXG4gIGNyZWF0ZWRBdDogc3RyaW5nO1xyXG4gIGRlc2NyaXB0aW9uPzogc3RyaW5nO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgQXBwU3RhdGUge1xyXG4gIC8vIE9uYm9hcmRpbmcgc3RhdGVcclxuICBoYXNDb21wbGV0ZWRPbmJvYXJkaW5nOiBib29sZWFuO1xyXG4gIGlzT25ib2FyZGluZ0luUHJvZ3Jlc3M6IGJvb2xlYW47XHJcbiAgY3VycmVudE9uYm9hcmRpbmdTdGVwOiBudW1iZXI7XHJcblxyXG4gIC8vIFVzZXIgcHJlZmVyZW5jZXNcclxuICB1c2VyUHJlZmVyZW5jZXM6IFVzZXJQcmVmZXJlbmNlcyB8IG51bGw7XHJcbiAgYm9va1JhdGluZ3M6IEJvb2tSYXRpbmdbXTtcclxuICBhdXRob3JSYXRpbmdzOiBBdXRob3JSYXRpbmdbXTtcclxuXHJcbiAgLy8gVXNlciBib29rcyBsaWJyYXJ5XHJcbiAgdXNlckJvb2tzOiBVc2VyQm9va1tdO1xyXG5cclxuICAvLyBSZWFkaW5nIGdvYWxzXHJcbiAgcmVhZGluZ0dvYWxzOiBSZWFkaW5nR29hbFtdO1xyXG5cclxuICAvLyBVSSBzdGF0ZVxyXG4gIGlzTG9hZGluZzogYm9vbGVhbjtcclxuXHJcbiAgLy8gQWN0aW9uc1xyXG4gIHNldE9uYm9hcmRpbmdDb21wbGV0ZWQ6IChjb21wbGV0ZWQ6IGJvb2xlYW4pID0+IHZvaWQ7XHJcbiAgc2V0T25ib2FyZGluZ1N0ZXA6IChzdGVwOiBudW1iZXIpID0+IHZvaWQ7XHJcbiAgc2V0T25ib2FyZGluZ0luUHJvZ3Jlc3M6IChpblByb2dyZXNzOiBib29sZWFuKSA9PiB2b2lkO1xyXG5cclxuICBzZXRVc2VyUHJlZmVyZW5jZXM6IChwcmVmZXJlbmNlczogVXNlclByZWZlcmVuY2VzKSA9PiB2b2lkO1xyXG4gIHNldEJvb2tSYXRpbmdzOiAocmF0aW5nczogQm9va1JhdGluZ1tdKSA9PiB2b2lkO1xyXG4gIHNldEF1dGhvclJhdGluZ3M6IChyYXRpbmdzOiBBdXRob3JSYXRpbmdbXSkgPT4gdm9pZDtcclxuXHJcbiAgLy8gVXNlciBib29rcyBhY3Rpb25zXHJcbiAgc2V0VXNlckJvb2tzOiAoYm9va3M6IFVzZXJCb29rW10pID0+IHZvaWQ7XHJcbiAgYWRkVXNlckJvb2s6IChib29rOiBVc2VyQm9vaykgPT4gdm9pZDtcclxuICB1cGRhdGVVc2VyQm9vazogKGJvb2tJZDogc3RyaW5nLCB1cGRhdGVzOiBQYXJ0aWFsPFVzZXJCb29rPikgPT4gdm9pZDtcclxuICByZW1vdmVVc2VyQm9vazogKGJvb2tJZDogc3RyaW5nKSA9PiB2b2lkO1xyXG4gIGlzQm9va0luTGlicmFyeTogKGJvb2tJZDogc3RyaW5nKSA9PiBib29sZWFuO1xyXG4gIGdldEJvb2tGcm9tTGlicmFyeTogKGJvb2tJZDogc3RyaW5nKSA9PiBVc2VyQm9vayB8IHVuZGVmaW5lZDtcclxuICBjbGVhck9sZERpc2NvdmVyQm9va3M6ICgpID0+IHZvaWQ7XHJcblxyXG4gIC8vIFJlYWRpbmcgZ29hbHMgYWN0aW9uc1xyXG4gIHNldFJlYWRpbmdHb2FsczogKGdvYWxzOiBSZWFkaW5nR29hbFtdKSA9PiB2b2lkO1xyXG4gIGFkZFJlYWRpbmdHb2FsOiAoZ29hbDogUmVhZGluZ0dvYWwpID0+IHZvaWQ7XHJcbiAgdXBkYXRlUmVhZGluZ0dvYWw6IChnb2FsSWQ6IHN0cmluZywgdXBkYXRlczogUGFydGlhbDxSZWFkaW5nR29hbD4pID0+IHZvaWQ7XHJcbiAgcmVtb3ZlUmVhZGluZ0dvYWw6IChnb2FsSWQ6IHN0cmluZykgPT4gdm9pZDtcclxuICBnZXRBY3RpdmVSZWFkaW5nR29hbDogKHllYXI/OiBudW1iZXIpID0+IFJlYWRpbmdHb2FsIHwgdW5kZWZpbmVkO1xyXG5cclxuICAvLyBCb29rIGludGVyYWN0aW9uIGFjdGlvbnNcclxuICBsaWtlQm9vazogKGJvb2tJZDogc3RyaW5nLCBib29rRGF0YTogUGFydGlhbDxVc2VyQm9vaz4pID0+IHZvaWQ7XHJcbiAgdW5saWtlQm9vazogKGJvb2tJZDogc3RyaW5nKSA9PiB2b2lkO1xyXG4gIHJhdGVCb29rOiAoXHJcbiAgICBib29rSWQ6IHN0cmluZyxcclxuICAgIHJhdGluZzogbnVtYmVyLFxyXG4gICAgYm9va0RhdGE/OiBQYXJ0aWFsPFVzZXJCb29rPlxyXG4gICkgPT4gdm9pZDtcclxuXHJcbiAgc2V0TG9hZGluZzogKGxvYWRpbmc6IGJvb2xlYW4pID0+IHZvaWQ7XHJcblxyXG4gIC8vIENvbXBsZXggYWN0aW9uc1xyXG4gIGNvbXBsZXRlT25ib2FyZGluZzogKFxyXG4gICAgcHJlZmVyZW5jZXM6IFVzZXJQcmVmZXJlbmNlcyxcclxuICAgIGJvb2tSYXRpbmdzOiBCb29rUmF0aW5nW10sXHJcbiAgICBhdXRob3JSYXRpbmdzOiBBdXRob3JSYXRpbmdbXVxyXG4gICkgPT4gdm9pZDtcclxuICByZXNldE9uYm9hcmRpbmc6ICgpID0+IHZvaWQ7XHJcblxyXG4gIC8vIEhlbHBlciBhY3Rpb25zXHJcbiAgX21pZ3JhdGVPbGRQbGFjZWhvbGRlcnM6ICgpID0+IHZvaWQ7XHJcblxyXG4gIC8vIENvbXB1dGVkIGdldHRlcnNcclxuICBnZXRSZWNvbW1lbmRhdGlvbkRhdGE6ICgpID0+IHtcclxuICAgIHByZWZlcmVuY2VzOiBVc2VyUHJlZmVyZW5jZXMgfCBudWxsO1xyXG4gICAgYm9va1JhdGluZ3M6IEJvb2tSYXRpbmdbXTtcclxuICAgIGF1dGhvclJhdGluZ3M6IEF1dGhvclJhdGluZ1tdO1xyXG4gIH07XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCB1c2VBcHBTdG9yZSA9IGNyZWF0ZTxBcHBTdGF0ZT4oKShcclxuICBwZXJzaXN0KFxyXG4gICAgKHNldCwgZ2V0KSA9PiAoe1xyXG4gICAgICAvLyBJbml0aWFsIHN0YXRlXHJcbiAgICAgIGhhc0NvbXBsZXRlZE9uYm9hcmRpbmc6IGZhbHNlLFxyXG4gICAgICBpc09uYm9hcmRpbmdJblByb2dyZXNzOiBmYWxzZSxcclxuICAgICAgY3VycmVudE9uYm9hcmRpbmdTdGVwOiAxLFxyXG4gICAgICB1c2VyUHJlZmVyZW5jZXM6IG51bGwsXHJcbiAgICAgIGJvb2tSYXRpbmdzOiBbXSxcclxuICAgICAgYXV0aG9yUmF0aW5nczogW10sXHJcbiAgICAgIHVzZXJCb29rczogW10sXHJcbiAgICAgIHJlYWRpbmdHb2FsczogW10sXHJcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXHJcblxyXG4gICAgICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gbWlncmF0ZSBvbGQgcGxhY2Vob2xkZXIgVVJMc1xyXG4gICAgICBfbWlncmF0ZU9sZFBsYWNlaG9sZGVyczogKCkgPT5cclxuICAgICAgICBzZXQoKHN0YXRlKSA9PiAoe1xyXG4gICAgICAgICAgdXNlckJvb2tzOiBzdGF0ZS51c2VyQm9va3MubWFwKChib29rKSA9PiAoe1xyXG4gICAgICAgICAgICAuLi5ib29rLFxyXG4gICAgICAgICAgICBjb3ZlcjogYm9vay5jb3Zlci5pbmNsdWRlcyhcInZpYS5wbGFjZWhvbGRlci5jb21cIilcclxuICAgICAgICAgICAgICA/IFwiL3BsYWNlaG9sZGVyLWJvb2suanBnXCJcclxuICAgICAgICAgICAgICA6IGJvb2suY292ZXIsXHJcbiAgICAgICAgICB9KSksXHJcbiAgICAgICAgfSkpLFxyXG5cclxuICAgICAgLy8gQmFzaWMgc2V0dGVyc1xyXG4gICAgICBzZXRPbmJvYXJkaW5nQ29tcGxldGVkOiAoY29tcGxldGVkKSA9PlxyXG4gICAgICAgIHNldCh7IGhhc0NvbXBsZXRlZE9uYm9hcmRpbmc6IGNvbXBsZXRlZCB9KSxcclxuXHJcbiAgICAgIHNldE9uYm9hcmRpbmdTdGVwOiAoc3RlcCkgPT4gc2V0KHsgY3VycmVudE9uYm9hcmRpbmdTdGVwOiBzdGVwIH0pLFxyXG5cclxuICAgICAgc2V0T25ib2FyZGluZ0luUHJvZ3Jlc3M6IChpblByb2dyZXNzKSA9PlxyXG4gICAgICAgIHNldCh7IGlzT25ib2FyZGluZ0luUHJvZ3Jlc3M6IGluUHJvZ3Jlc3MgfSksXHJcblxyXG4gICAgICBzZXRVc2VyUHJlZmVyZW5jZXM6IChwcmVmZXJlbmNlcykgPT5cclxuICAgICAgICBzZXQoeyB1c2VyUHJlZmVyZW5jZXM6IHByZWZlcmVuY2VzIH0pLFxyXG5cclxuICAgICAgc2V0Qm9va1JhdGluZ3M6IChyYXRpbmdzKSA9PiBzZXQoeyBib29rUmF0aW5nczogcmF0aW5ncyB9KSxcclxuXHJcbiAgICAgIHNldEF1dGhvclJhdGluZ3M6IChyYXRpbmdzKSA9PiBzZXQoeyBhdXRob3JSYXRpbmdzOiByYXRpbmdzIH0pLFxyXG5cclxuICAgICAgLy8gVXNlciBib29rcyBhY3Rpb25zXHJcbiAgICAgIHNldFVzZXJCb29rczogKGJvb2tzKSA9PiBzZXQoeyB1c2VyQm9va3M6IGJvb2tzIH0pLFxyXG5cclxuICAgICAgYWRkVXNlckJvb2s6IChib29rKSA9PlxyXG4gICAgICAgIHNldCgoc3RhdGUpID0+ICh7IHVzZXJCb29rczogWy4uLnN0YXRlLnVzZXJCb29rcywgYm9va10gfSkpLFxyXG5cclxuICAgICAgdXBkYXRlVXNlckJvb2s6IChib29rSWQsIHVwZGF0ZXMpID0+XHJcbiAgICAgICAgc2V0KChzdGF0ZSkgPT4gKHtcclxuICAgICAgICAgIHVzZXJCb29rczogc3RhdGUudXNlckJvb2tzLm1hcCgoYm9vaykgPT5cclxuICAgICAgICAgICAgYm9vay5pZCA9PT0gYm9va0lkID8geyAuLi5ib29rLCAuLi51cGRhdGVzIH0gOiBib29rXHJcbiAgICAgICAgICApLFxyXG4gICAgICAgIH0pKSxcclxuXHJcbiAgICAgIHJlbW92ZVVzZXJCb29rOiAoYm9va0lkKSA9PlxyXG4gICAgICAgIHNldCgoc3RhdGUpID0+ICh7XHJcbiAgICAgICAgICB1c2VyQm9va3M6IHN0YXRlLnVzZXJCb29rcy5maWx0ZXIoKGJvb2spID0+IGJvb2suaWQgIT09IGJvb2tJZCksXHJcbiAgICAgICAgfSkpLFxyXG5cclxuICAgICAgY2xlYXJPbGREaXNjb3ZlckJvb2tzOiAoKSA9PlxyXG4gICAgICAgIHNldCgoc3RhdGUpID0+ICh7XHJcbiAgICAgICAgICB1c2VyQm9va3M6IHN0YXRlLnVzZXJCb29rcy5maWx0ZXIoXHJcbiAgICAgICAgICAgIChib29rKSA9PiAhYm9vay5pZC5zdGFydHNXaXRoKFwiZGlzY292ZXItXCIpXHJcbiAgICAgICAgICApLFxyXG4gICAgICAgIH0pKSxcclxuXHJcbiAgICAgIGlzQm9va0luTGlicmFyeTogKGJvb2tJZCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHN0YXRlID0gZ2V0KCk7XHJcbiAgICAgICAgcmV0dXJuIHN0YXRlLnVzZXJCb29rcy5zb21lKChib29rKSA9PiBib29rLmlkID09PSBib29rSWQpO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgZ2V0Qm9va0Zyb21MaWJyYXJ5OiAoYm9va0lkKSA9PiB7XHJcbiAgICAgICAgY29uc3Qgc3RhdGUgPSBnZXQoKTtcclxuICAgICAgICByZXR1cm4gc3RhdGUudXNlckJvb2tzLmZpbmQoKGJvb2spID0+IGJvb2suaWQgPT09IGJvb2tJZCk7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICAvLyBSZWFkaW5nIGdvYWxzIGFjdGlvbnNcclxuICAgICAgc2V0UmVhZGluZ0dvYWxzOiAoZ29hbHMpID0+IHNldCh7IHJlYWRpbmdHb2FsczogZ29hbHMgfSksXHJcblxyXG4gICAgICBhZGRSZWFkaW5nR29hbDogKGdvYWwpID0+XHJcbiAgICAgICAgc2V0KChzdGF0ZSkgPT4gKHsgcmVhZGluZ0dvYWxzOiBbLi4uc3RhdGUucmVhZGluZ0dvYWxzLCBnb2FsXSB9KSksXHJcblxyXG4gICAgICB1cGRhdGVSZWFkaW5nR29hbDogKGdvYWxJZCwgdXBkYXRlcykgPT5cclxuICAgICAgICBzZXQoKHN0YXRlKSA9PiAoe1xyXG4gICAgICAgICAgcmVhZGluZ0dvYWxzOiBzdGF0ZS5yZWFkaW5nR29hbHMubWFwKChnb2FsKSA9PlxyXG4gICAgICAgICAgICBnb2FsLmlkID09PSBnb2FsSWQgPyB7IC4uLmdvYWwsIC4uLnVwZGF0ZXMgfSA6IGdvYWxcclxuICAgICAgICAgICksXHJcbiAgICAgICAgfSkpLFxyXG5cclxuICAgICAgcmVtb3ZlUmVhZGluZ0dvYWw6IChnb2FsSWQpID0+XHJcbiAgICAgICAgc2V0KChzdGF0ZSkgPT4gKHtcclxuICAgICAgICAgIHJlYWRpbmdHb2Fsczogc3RhdGUucmVhZGluZ0dvYWxzLmZpbHRlcigoZ29hbCkgPT4gZ29hbC5pZCAhPT0gZ29hbElkKSxcclxuICAgICAgICB9KSksXHJcblxyXG4gICAgICBnZXRBY3RpdmVSZWFkaW5nR29hbDogKHllYXIpID0+IHtcclxuICAgICAgICBjb25zdCBzdGF0ZSA9IGdldCgpO1xyXG4gICAgICAgIGNvbnN0IGN1cnJlbnRZZWFyID0geWVhciB8fCBuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCk7XHJcbiAgICAgICAgcmV0dXJuIHN0YXRlLnJlYWRpbmdHb2Fscy5maW5kKFxyXG4gICAgICAgICAgKGdvYWwpID0+IGdvYWwueWVhciA9PT0gY3VycmVudFllYXIgJiYgZ29hbC5pc0FjdGl2ZVxyXG4gICAgICAgICk7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBsaWtlQm9vazogKGJvb2tJZCwgYm9va0RhdGEpID0+XHJcbiAgICAgICAgc2V0KChzdGF0ZSkgPT4ge1xyXG4gICAgICAgICAgY29uc3QgZXhpc3RpbmdCb29rID0gc3RhdGUudXNlckJvb2tzLmZpbmQoXHJcbiAgICAgICAgICAgIChib29rKSA9PiBib29rLmlkID09PSBib29rSWRcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgICBpZiAoZXhpc3RpbmdCb29rKSB7XHJcbiAgICAgICAgICAgIC8vIFVwZGF0ZSBleGlzdGluZyBib29rXHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgdXNlckJvb2tzOiBzdGF0ZS51c2VyQm9va3MubWFwKChib29rKSA9PlxyXG4gICAgICAgICAgICAgICAgYm9vay5pZCA9PT0gYm9va0lkID8geyAuLi5ib29rLCBpc0xpa2VkOiB0cnVlIH0gOiBib29rXHJcbiAgICAgICAgICAgICAgKSxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIEFkZCBuZXcgYm9vayBhcyBsaWtlZFxyXG4gICAgICAgICAgICBjb25zdCBuZXdCb29rOiBVc2VyQm9vayA9IHtcclxuICAgICAgICAgICAgICBpZDogYm9va0lkLFxyXG4gICAgICAgICAgICAgIHRpdGxlOiBib29rRGF0YS50aXRsZSB8fCBcIlVua25vd24gVGl0bGVcIixcclxuICAgICAgICAgICAgICBhdXRob3I6IGJvb2tEYXRhLmF1dGhvciB8fCBcIlVua25vd24gQXV0aG9yXCIsXHJcbiAgICAgICAgICAgICAgY292ZXI6IGJvb2tEYXRhLmNvdmVyIHx8IFwiL3BsYWNlaG9sZGVyLWJvb2suanBnXCIsXHJcbiAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGJvb2tEYXRhLmRlc2NyaXB0aW9uIHx8IFwiXCIsXHJcbiAgICAgICAgICAgICAgcmF0aW5nOiBib29rRGF0YS5yYXRpbmcgfHwgMCxcclxuICAgICAgICAgICAgICBzdGF0dXM6IFwid2FudC10by1yZWFkXCIsXHJcbiAgICAgICAgICAgICAgZGF0ZUFkZGVkOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3BsaXQoXCJUXCIpWzBdLFxyXG4gICAgICAgICAgICAgIGdlbnJlOiBib29rRGF0YS5nZW5yZSB8fCBbXSxcclxuICAgICAgICAgICAgICBtb29kOiBib29rRGF0YS5tb29kIHx8IFtdLFxyXG4gICAgICAgICAgICAgIGlzYm46IGJvb2tEYXRhLmlzYm4gfHwgXCJcIixcclxuICAgICAgICAgICAgICBwYWdlczogYm9va0RhdGEucGFnZXMgfHwgMCxcclxuICAgICAgICAgICAgICBwdWJsaXNoZWRZZWFyOiBib29rRGF0YS5wdWJsaXNoZWRZZWFyIHx8IG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKSxcclxuICAgICAgICAgICAgICBpc0xpa2VkOiB0cnVlLFxyXG4gICAgICAgICAgICAgIC4uLmJvb2tEYXRhLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICByZXR1cm4geyB1c2VyQm9va3M6IFsuLi5zdGF0ZS51c2VyQm9va3MsIG5ld0Jvb2tdIH07XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSksXHJcblxyXG4gICAgICB1bmxpa2VCb29rOiAoYm9va0lkKSA9PlxyXG4gICAgICAgIHNldCgoc3RhdGUpID0+ICh7XHJcbiAgICAgICAgICB1c2VyQm9va3M6IHN0YXRlLnVzZXJCb29rcy5tYXAoKGJvb2spID0+XHJcbiAgICAgICAgICAgIGJvb2suaWQgPT09IGJvb2tJZCA/IHsgLi4uYm9vaywgaXNMaWtlZDogZmFsc2UgfSA6IGJvb2tcclxuICAgICAgICAgICksXHJcbiAgICAgICAgfSkpLFxyXG5cclxuICAgICAgcmF0ZUJvb2s6IChib29rSWQsIHJhdGluZywgYm9va0RhdGEpID0+XHJcbiAgICAgICAgc2V0KChzdGF0ZSkgPT4ge1xyXG4gICAgICAgICAgY29uc3QgZXhpc3RpbmdCb29rID0gc3RhdGUudXNlckJvb2tzLmZpbmQoXHJcbiAgICAgICAgICAgIChib29rKSA9PiBib29rLmlkID09PSBib29rSWRcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgICBpZiAoZXhpc3RpbmdCb29rKSB7XHJcbiAgICAgICAgICAgIC8vIFVwZGF0ZSBleGlzdGluZyBib29rXHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgdXNlckJvb2tzOiBzdGF0ZS51c2VyQm9va3MubWFwKChib29rKSA9PlxyXG4gICAgICAgICAgICAgICAgYm9vay5pZCA9PT0gYm9va0lkID8geyAuLi5ib29rLCB1c2VyUmF0aW5nOiByYXRpbmcgfSA6IGJvb2tcclxuICAgICAgICAgICAgICApLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgfSBlbHNlIGlmIChib29rRGF0YSkge1xyXG4gICAgICAgICAgICAvLyBBZGQgbmV3IGJvb2sgd2l0aCByYXRpbmdcclxuICAgICAgICAgICAgY29uc3QgbmV3Qm9vazogVXNlckJvb2sgPSB7XHJcbiAgICAgICAgICAgICAgaWQ6IGJvb2tJZCxcclxuICAgICAgICAgICAgICB0aXRsZTogYm9va0RhdGEudGl0bGUgfHwgXCJVbmtub3duIFRpdGxlXCIsXHJcbiAgICAgICAgICAgICAgYXV0aG9yOiBib29rRGF0YS5hdXRob3IgfHwgXCJVbmtub3duIEF1dGhvclwiLFxyXG4gICAgICAgICAgICAgIGNvdmVyOiBib29rRGF0YS5jb3ZlciB8fCBcIi9wbGFjZWhvbGRlci1ib29rLmpwZ1wiLFxyXG4gICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBib29rRGF0YS5kZXNjcmlwdGlvbiB8fCBcIlwiLFxyXG4gICAgICAgICAgICAgIHJhdGluZzogYm9va0RhdGEucmF0aW5nIHx8IDAsXHJcbiAgICAgICAgICAgICAgc3RhdHVzOiBcIndhbnQtdG8tcmVhZFwiLFxyXG4gICAgICAgICAgICAgIGRhdGVBZGRlZDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnNwbGl0KFwiVFwiKVswXSxcclxuICAgICAgICAgICAgICBnZW5yZTogYm9va0RhdGEuZ2VucmUgfHwgW10sXHJcbiAgICAgICAgICAgICAgbW9vZDogYm9va0RhdGEubW9vZCB8fCBbXSxcclxuICAgICAgICAgICAgICBpc2JuOiBib29rRGF0YS5pc2JuIHx8IFwiXCIsXHJcbiAgICAgICAgICAgICAgcGFnZXM6IGJvb2tEYXRhLnBhZ2VzIHx8IDAsXHJcbiAgICAgICAgICAgICAgcHVibGlzaGVkWWVhcjogYm9va0RhdGEucHVibGlzaGVkWWVhciB8fCBuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCksXHJcbiAgICAgICAgICAgICAgdXNlclJhdGluZzogcmF0aW5nLFxyXG4gICAgICAgICAgICAgIC4uLmJvb2tEYXRhLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICByZXR1cm4geyB1c2VyQm9va3M6IFsuLi5zdGF0ZS51c2VyQm9va3MsIG5ld0Jvb2tdIH07XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICByZXR1cm4gc3RhdGU7XHJcbiAgICAgICAgfSksXHJcblxyXG4gICAgICBzZXRMb2FkaW5nOiAobG9hZGluZykgPT4gc2V0KHsgaXNMb2FkaW5nOiBsb2FkaW5nIH0pLFxyXG5cclxuICAgICAgLy8gQ29tcGxleCBhY3Rpb25zXHJcbiAgICAgIGNvbXBsZXRlT25ib2FyZGluZzogKHByZWZlcmVuY2VzLCBib29rUmF0aW5ncywgYXV0aG9yUmF0aW5ncykgPT5cclxuICAgICAgICBzZXQoe1xyXG4gICAgICAgICAgaGFzQ29tcGxldGVkT25ib2FyZGluZzogdHJ1ZSxcclxuICAgICAgICAgIGlzT25ib2FyZGluZ0luUHJvZ3Jlc3M6IGZhbHNlLFxyXG4gICAgICAgICAgdXNlclByZWZlcmVuY2VzOiBwcmVmZXJlbmNlcyxcclxuICAgICAgICAgIGJvb2tSYXRpbmdzLFxyXG4gICAgICAgICAgYXV0aG9yUmF0aW5ncyxcclxuICAgICAgICAgIGN1cnJlbnRPbmJvYXJkaW5nU3RlcDogMSwgLy8gUmVzZXQgZm9yIG5leHQgdGltZVxyXG4gICAgICAgIH0pLFxyXG5cclxuICAgICAgcmVzZXRPbmJvYXJkaW5nOiAoKSA9PlxyXG4gICAgICAgIHNldCh7XHJcbiAgICAgICAgICBoYXNDb21wbGV0ZWRPbmJvYXJkaW5nOiBmYWxzZSxcclxuICAgICAgICAgIGlzT25ib2FyZGluZ0luUHJvZ3Jlc3M6IGZhbHNlLFxyXG4gICAgICAgICAgY3VycmVudE9uYm9hcmRpbmdTdGVwOiAxLFxyXG4gICAgICAgICAgdXNlclByZWZlcmVuY2VzOiBudWxsLFxyXG4gICAgICAgICAgYm9va1JhdGluZ3M6IFtdLFxyXG4gICAgICAgICAgYXV0aG9yUmF0aW5nczogW10sXHJcbiAgICAgICAgfSksXHJcblxyXG4gICAgICAvLyBDb21wdXRlZCBnZXR0ZXJzXHJcbiAgICAgIGdldFJlY29tbWVuZGF0aW9uRGF0YTogKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHN0YXRlID0gZ2V0KCk7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIHByZWZlcmVuY2VzOiBzdGF0ZS51c2VyUHJlZmVyZW5jZXMsXHJcbiAgICAgICAgICBib29rUmF0aW5nczogc3RhdGUuYm9va1JhdGluZ3MsXHJcbiAgICAgICAgICBhdXRob3JSYXRpbmdzOiBzdGF0ZS5hdXRob3JSYXRpbmdzLFxyXG4gICAgICAgIH07XHJcbiAgICAgIH0sXHJcbiAgICB9KSxcclxuICAgIHtcclxuICAgICAgbmFtZTogXCJib29raGF2ZW4tYXBwLXN0b3JlXCIsXHJcbiAgICAgIHN0b3JhZ2U6IGNyZWF0ZUpTT05TdG9yYWdlKCgpID0+IGxvY2FsU3RvcmFnZSksXHJcbiAgICAgIC8vIE9ubHkgcGVyc2lzdCBjZXJ0YWluIHBhcnRzIG9mIHRoZSBzdGF0ZVxyXG4gICAgICBwYXJ0aWFsaXplOiAoc3RhdGUpID0+ICh7XHJcbiAgICAgICAgaGFzQ29tcGxldGVkT25ib2FyZGluZzogc3RhdGUuaGFzQ29tcGxldGVkT25ib2FyZGluZyxcclxuICAgICAgICB1c2VyUHJlZmVyZW5jZXM6IHN0YXRlLnVzZXJQcmVmZXJlbmNlcyxcclxuICAgICAgICBib29rUmF0aW5nczogc3RhdGUuYm9va1JhdGluZ3MsXHJcbiAgICAgICAgYXV0aG9yUmF0aW5nczogc3RhdGUuYXV0aG9yUmF0aW5ncyxcclxuICAgICAgICB1c2VyQm9va3M6IHN0YXRlLnVzZXJCb29rcywgLy8gSW5jbHVkZSB1c2VyQm9va3MgaW4gcGVyc2lzdGVuY2VcclxuICAgICAgfSksXHJcbiAgICAgIC8vIEFkZCBzb21lIHNhZmVndWFyZHMgdG8gcHJldmVudCBoeWRyYXRpb24gaXNzdWVzXHJcbiAgICAgIHNraXBIeWRyYXRpb246IGZhbHNlLFxyXG4gICAgfVxyXG4gIClcclxuKTtcclxuXHJcbi8vIEh5ZHJhdGlvbi1zYWZlIGhvb2sgdG8gcHJldmVudCBTU1IgbWlzbWF0Y2hlc1xyXG5leHBvcnQgY29uc3QgdXNlSHlkcmF0ZWRTdG9yZSA9ICgpID0+IHtcclxuICBjb25zdCBbaGFzSHlkcmF0ZWQsIHNldEhhc0h5ZHJhdGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIC8vIFdhaXQgZm9yIFp1c3RhbmQgdG8gaHlkcmF0ZVxyXG4gICAgY29uc3QgdW5zdWJzY3JpYmUgPSB1c2VBcHBTdG9yZS5wZXJzaXN0Lm9uRmluaXNoSHlkcmF0aW9uKCgpID0+IHtcclxuICAgICAgc2V0SGFzSHlkcmF0ZWQodHJ1ZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBJZiBhbHJlYWR5IGh5ZHJhdGVkXHJcbiAgICBpZiAodXNlQXBwU3RvcmUucGVyc2lzdC5oYXNIeWRyYXRlZCgpKSB7XHJcbiAgICAgIHNldEhhc0h5ZHJhdGVkKHRydWUpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB1bnN1YnNjcmliZTtcclxuICB9LCBbXSk7XHJcblxyXG4gIHJldHVybiBoYXNIeWRyYXRlZDtcclxufTtcclxuXHJcbi8vIEluZGl2aWR1YWwgc2VsZWN0b3JzIGZvciBiZXR0ZXIgcGVyZm9ybWFuY2VcclxuZXhwb3J0IGNvbnN0IHVzZUhhc0NvbXBsZXRlZE9uYm9hcmRpbmcgPSAoKSA9PlxyXG4gIHVzZUFwcFN0b3JlKChzdGF0ZSkgPT4gc3RhdGUuaGFzQ29tcGxldGVkT25ib2FyZGluZyk7XHJcblxyXG5leHBvcnQgY29uc3QgdXNlT25ib2FyZGluZ1N0ZXAgPSAoKSA9PlxyXG4gIHVzZUFwcFN0b3JlKChzdGF0ZSkgPT4gc3RhdGUuY3VycmVudE9uYm9hcmRpbmdTdGVwKTtcclxuXHJcbmV4cG9ydCBjb25zdCB1c2VPbmJvYXJkaW5nQWN0aW9ucyA9ICgpID0+XHJcbiAgdXNlQXBwU3RvcmUoKHN0YXRlKSA9PiAoe1xyXG4gICAgc2V0U3RlcDogc3RhdGUuc2V0T25ib2FyZGluZ1N0ZXAsXHJcbiAgICBjb21wbGV0ZTogc3RhdGUuY29tcGxldGVPbmJvYXJkaW5nLFxyXG4gICAgcmVzZXQ6IHN0YXRlLnJlc2V0T25ib2FyZGluZyxcclxuICB9KSk7XHJcblxyXG4vLyBGb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eSwga2VlcCB0aGUgY29tYmluZWQgaG9vayBidXQgbWFrZSBpdCBtb3JlIHN0YWJsZVxyXG5leHBvcnQgY29uc3QgdXNlT25ib2FyZGluZ1N0YXRlID0gKCkgPT4ge1xyXG4gIGNvbnN0IGhhc0NvbXBsZXRlZCA9IHVzZUFwcFN0b3JlKChzdGF0ZSkgPT4gc3RhdGUuaGFzQ29tcGxldGVkT25ib2FyZGluZyk7XHJcbiAgY29uc3QgaXNJblByb2dyZXNzID0gdXNlQXBwU3RvcmUoKHN0YXRlKSA9PiBzdGF0ZS5pc09uYm9hcmRpbmdJblByb2dyZXNzKTtcclxuICBjb25zdCBjdXJyZW50U3RlcCA9IHVzZUFwcFN0b3JlKChzdGF0ZSkgPT4gc3RhdGUuY3VycmVudE9uYm9hcmRpbmdTdGVwKTtcclxuICBjb25zdCBzZXRDb21wbGV0ZWQgPSB1c2VBcHBTdG9yZSgoc3RhdGUpID0+IHN0YXRlLnNldE9uYm9hcmRpbmdDb21wbGV0ZWQpO1xyXG4gIGNvbnN0IHNldEluUHJvZ3Jlc3MgPSB1c2VBcHBTdG9yZSgoc3RhdGUpID0+IHN0YXRlLnNldE9uYm9hcmRpbmdJblByb2dyZXNzKTtcclxuICBjb25zdCBzZXRTdGVwID0gdXNlQXBwU3RvcmUoKHN0YXRlKSA9PiBzdGF0ZS5zZXRPbmJvYXJkaW5nU3RlcCk7XHJcbiAgY29uc3QgY29tcGxldGUgPSB1c2VBcHBTdG9yZSgoc3RhdGUpID0+IHN0YXRlLmNvbXBsZXRlT25ib2FyZGluZyk7XHJcbiAgY29uc3QgcmVzZXQgPSB1c2VBcHBTdG9yZSgoc3RhdGUpID0+IHN0YXRlLnJlc2V0T25ib2FyZGluZyk7XHJcblxyXG4gIC8vIFJldHVybiBhIHN0YWJsZSBvYmplY3QgYnkgdXNpbmcgdXNlTWVtbyBpZiBuZWVkZWRcclxuICByZXR1cm4ge1xyXG4gICAgaGFzQ29tcGxldGVkLFxyXG4gICAgaXNJblByb2dyZXNzLFxyXG4gICAgY3VycmVudFN0ZXAsXHJcbiAgICBzZXRDb21wbGV0ZWQsXHJcbiAgICBzZXRJblByb2dyZXNzLFxyXG4gICAgc2V0U3RlcCxcclxuICAgIGNvbXBsZXRlLFxyXG4gICAgcmVzZXQsXHJcbiAgfTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCB1c2VVc2VyRGF0YSA9ICgpID0+IHtcclxuICBjb25zdCBwcmVmZXJlbmNlcyA9IHVzZUFwcFN0b3JlKChzdGF0ZSkgPT4gc3RhdGUudXNlclByZWZlcmVuY2VzKTtcclxuICBjb25zdCBib29rUmF0aW5ncyA9IHVzZUFwcFN0b3JlKChzdGF0ZSkgPT4gc3RhdGUuYm9va1JhdGluZ3MpO1xyXG4gIGNvbnN0IGF1dGhvclJhdGluZ3MgPSB1c2VBcHBTdG9yZSgoc3RhdGUpID0+IHN0YXRlLmF1dGhvclJhdGluZ3MpO1xyXG4gIGNvbnN0IHNldFByZWZlcmVuY2VzID0gdXNlQXBwU3RvcmUoKHN0YXRlKSA9PiBzdGF0ZS5zZXRVc2VyUHJlZmVyZW5jZXMpO1xyXG4gIGNvbnN0IHNldEJvb2tSYXRpbmdzID0gdXNlQXBwU3RvcmUoKHN0YXRlKSA9PiBzdGF0ZS5zZXRCb29rUmF0aW5ncyk7XHJcbiAgY29uc3Qgc2V0QXV0aG9yUmF0aW5ncyA9IHVzZUFwcFN0b3JlKChzdGF0ZSkgPT4gc3RhdGUuc2V0QXV0aG9yUmF0aW5ncyk7XHJcbiAgY29uc3QgZ2V0UmVjb21tZW5kYXRpb25EYXRhID0gdXNlQXBwU3RvcmUoXHJcbiAgICAoc3RhdGUpID0+IHN0YXRlLmdldFJlY29tbWVuZGF0aW9uRGF0YVxyXG4gICk7XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBwcmVmZXJlbmNlcyxcclxuICAgIGJvb2tSYXRpbmdzLFxyXG4gICAgYXV0aG9yUmF0aW5ncyxcclxuICAgIHNldFByZWZlcmVuY2VzLFxyXG4gICAgc2V0Qm9va1JhdGluZ3MsXHJcbiAgICBzZXRBdXRob3JSYXRpbmdzLFxyXG4gICAgZ2V0UmVjb21tZW5kYXRpb25EYXRhLFxyXG4gIH07XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgdXNlQXBwTG9hZGluZyA9ICgpID0+XHJcbiAgdXNlQXBwU3RvcmUoKHN0YXRlKSA9PiAoe1xyXG4gICAgaXNMb2FkaW5nOiBzdGF0ZS5pc0xvYWRpbmcsXHJcbiAgICBzZXRMb2FkaW5nOiBzdGF0ZS5zZXRMb2FkaW5nLFxyXG4gIH0pKTtcclxuIl0sIm5hbWVzIjpbImNyZWF0ZSIsInBlcnNpc3QiLCJjcmVhdGVKU09OU3RvcmFnZSIsInVzZUVmZmVjdCIsInVzZVN0YXRlIiwidXNlQXBwU3RvcmUiLCJzZXQiLCJnZXQiLCJoYXNDb21wbGV0ZWRPbmJvYXJkaW5nIiwiaXNPbmJvYXJkaW5nSW5Qcm9ncmVzcyIsImN1cnJlbnRPbmJvYXJkaW5nU3RlcCIsInVzZXJQcmVmZXJlbmNlcyIsImJvb2tSYXRpbmdzIiwiYXV0aG9yUmF0aW5ncyIsInVzZXJCb29rcyIsInJlYWRpbmdHb2FscyIsImlzTG9hZGluZyIsIl9taWdyYXRlT2xkUGxhY2Vob2xkZXJzIiwic3RhdGUiLCJtYXAiLCJib29rIiwiY292ZXIiLCJpbmNsdWRlcyIsInNldE9uYm9hcmRpbmdDb21wbGV0ZWQiLCJjb21wbGV0ZWQiLCJzZXRPbmJvYXJkaW5nU3RlcCIsInN0ZXAiLCJzZXRPbmJvYXJkaW5nSW5Qcm9ncmVzcyIsImluUHJvZ3Jlc3MiLCJzZXRVc2VyUHJlZmVyZW5jZXMiLCJwcmVmZXJlbmNlcyIsInNldEJvb2tSYXRpbmdzIiwicmF0aW5ncyIsInNldEF1dGhvclJhdGluZ3MiLCJzZXRVc2VyQm9va3MiLCJib29rcyIsImFkZFVzZXJCb29rIiwidXBkYXRlVXNlckJvb2siLCJib29rSWQiLCJ1cGRhdGVzIiwiaWQiLCJyZW1vdmVVc2VyQm9vayIsImZpbHRlciIsImNsZWFyT2xkRGlzY292ZXJCb29rcyIsInN0YXJ0c1dpdGgiLCJpc0Jvb2tJbkxpYnJhcnkiLCJzb21lIiwiZ2V0Qm9va0Zyb21MaWJyYXJ5IiwiZmluZCIsInNldFJlYWRpbmdHb2FscyIsImdvYWxzIiwiYWRkUmVhZGluZ0dvYWwiLCJnb2FsIiwidXBkYXRlUmVhZGluZ0dvYWwiLCJnb2FsSWQiLCJyZW1vdmVSZWFkaW5nR29hbCIsImdldEFjdGl2ZVJlYWRpbmdHb2FsIiwieWVhciIsImN1cnJlbnRZZWFyIiwiRGF0ZSIsImdldEZ1bGxZZWFyIiwiaXNBY3RpdmUiLCJsaWtlQm9vayIsImJvb2tEYXRhIiwiZXhpc3RpbmdCb29rIiwiaXNMaWtlZCIsIm5ld0Jvb2siLCJ0aXRsZSIsImF1dGhvciIsImRlc2NyaXB0aW9uIiwicmF0aW5nIiwic3RhdHVzIiwiZGF0ZUFkZGVkIiwidG9JU09TdHJpbmciLCJzcGxpdCIsImdlbnJlIiwibW9vZCIsImlzYm4iLCJwYWdlcyIsInB1Ymxpc2hlZFllYXIiLCJ1bmxpa2VCb29rIiwicmF0ZUJvb2siLCJ1c2VyUmF0aW5nIiwic2V0TG9hZGluZyIsImxvYWRpbmciLCJjb21wbGV0ZU9uYm9hcmRpbmciLCJyZXNldE9uYm9hcmRpbmciLCJnZXRSZWNvbW1lbmRhdGlvbkRhdGEiLCJuYW1lIiwic3RvcmFnZSIsImxvY2FsU3RvcmFnZSIsInBhcnRpYWxpemUiLCJza2lwSHlkcmF0aW9uIiwidXNlSHlkcmF0ZWRTdG9yZSIsImhhc0h5ZHJhdGVkIiwic2V0SGFzSHlkcmF0ZWQiLCJ1bnN1YnNjcmliZSIsIm9uRmluaXNoSHlkcmF0aW9uIiwidXNlSGFzQ29tcGxldGVkT25ib2FyZGluZyIsInVzZU9uYm9hcmRpbmdTdGVwIiwidXNlT25ib2FyZGluZ0FjdGlvbnMiLCJzZXRTdGVwIiwiY29tcGxldGUiLCJyZXNldCIsInVzZU9uYm9hcmRpbmdTdGF0ZSIsImhhc0NvbXBsZXRlZCIsImlzSW5Qcm9ncmVzcyIsImN1cnJlbnRTdGVwIiwic2V0Q29tcGxldGVkIiwic2V0SW5Qcm9ncmVzcyIsInVzZVVzZXJEYXRhIiwic2V0UHJlZmVyZW5jZXMiLCJ1c2VBcHBMb2FkaW5nIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./stores/useAppStore.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/zustand/esm/middleware.mjs":
/*!*************************************************!*\
  !*** ./node_modules/zustand/esm/middleware.mjs ***!
  \*************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   combine: function() { return /* binding */ combine; },\n/* harmony export */   createJSONStorage: function() { return /* binding */ createJSONStorage; },\n/* harmony export */   devtools: function() { return /* binding */ devtools; },\n/* harmony export */   persist: function() { return /* binding */ persist; },\n/* harmony export */   redux: function() { return /* binding */ redux; },\n/* harmony export */   subscribeWithSelector: function() { return /* binding */ subscribeWithSelector; }\n/* harmony export */ });\nconst reduxImpl = (reducer, initial) => (set, _get, api) => {\n  api.dispatch = (action) => {\n    set((state) => reducer(state, action), false, action);\n    return action;\n  };\n  api.dispatchFromDevtools = true;\n  return { dispatch: (...args) => api.dispatch(...args), ...initial };\n};\nconst redux = reduxImpl;\n\nconst trackedConnections = /* @__PURE__ */ new Map();\nconst getTrackedConnectionState = (name) => {\n  const api = trackedConnections.get(name);\n  if (!api) return {};\n  return Object.fromEntries(\n    Object.entries(api.stores).map(([key, api2]) => [key, api2.getState()])\n  );\n};\nconst extractConnectionInformation = (store, extensionConnector, options) => {\n  if (store === void 0) {\n    return {\n      type: \"untracked\",\n      connection: extensionConnector.connect(options)\n    };\n  }\n  const existingConnection = trackedConnections.get(options.name);\n  if (existingConnection) {\n    return { type: \"tracked\", store, ...existingConnection };\n  }\n  const newConnection = {\n    connection: extensionConnector.connect(options),\n    stores: {}\n  };\n  trackedConnections.set(options.name, newConnection);\n  return { type: \"tracked\", store, ...newConnection };\n};\nconst removeStoreFromTrackedConnections = (name, store) => {\n  if (store === void 0) return;\n  const connectionInfo = trackedConnections.get(name);\n  if (!connectionInfo) return;\n  delete connectionInfo.stores[store];\n  if (Object.keys(connectionInfo.stores).length === 0) {\n    trackedConnections.delete(name);\n  }\n};\nconst findCallerName = (stack) => {\n  var _a, _b;\n  if (!stack) return void 0;\n  const traceLines = stack.split(\"\\n\");\n  const apiSetStateLineIndex = traceLines.findIndex(\n    (traceLine) => traceLine.includes(\"api.setState\")\n  );\n  if (apiSetStateLineIndex < 0) return void 0;\n  const callerLine = ((_a = traceLines[apiSetStateLineIndex + 1]) == null ? void 0 : _a.trim()) || \"\";\n  return (_b = /.+ (.+) .+/.exec(callerLine)) == null ? void 0 : _b[1];\n};\nconst devtoolsImpl = (fn, devtoolsOptions = {}) => (set, get, api) => {\n  const { enabled, anonymousActionType, store, ...options } = devtoolsOptions;\n  let extensionConnector;\n  try {\n    extensionConnector = (enabled != null ? enabled : ( false ? 0 : void 0) !== \"production\") && window.__REDUX_DEVTOOLS_EXTENSION__;\n  } catch (e) {\n  }\n  if (!extensionConnector) {\n    return fn(set, get, api);\n  }\n  const { connection, ...connectionInformation } = extractConnectionInformation(store, extensionConnector, options);\n  let isRecording = true;\n  api.setState = ((state, replace, nameOrAction) => {\n    const r = set(state, replace);\n    if (!isRecording) return r;\n    const action = nameOrAction === void 0 ? {\n      type: anonymousActionType || findCallerName(new Error().stack) || \"anonymous\"\n    } : typeof nameOrAction === \"string\" ? { type: nameOrAction } : nameOrAction;\n    if (store === void 0) {\n      connection == null ? void 0 : connection.send(action, get());\n      return r;\n    }\n    connection == null ? void 0 : connection.send(\n      {\n        ...action,\n        type: `${store}/${action.type}`\n      },\n      {\n        ...getTrackedConnectionState(options.name),\n        [store]: api.getState()\n      }\n    );\n    return r;\n  });\n  api.devtools = {\n    cleanup: () => {\n      if (connection && typeof connection.unsubscribe === \"function\") {\n        connection.unsubscribe();\n      }\n      removeStoreFromTrackedConnections(options.name, store);\n    }\n  };\n  const setStateFromDevtools = (...a) => {\n    const originalIsRecording = isRecording;\n    isRecording = false;\n    set(...a);\n    isRecording = originalIsRecording;\n  };\n  const initialState = fn(api.setState, get, api);\n  if (connectionInformation.type === \"untracked\") {\n    connection == null ? void 0 : connection.init(initialState);\n  } else {\n    connectionInformation.stores[connectionInformation.store] = api;\n    connection == null ? void 0 : connection.init(\n      Object.fromEntries(\n        Object.entries(connectionInformation.stores).map(([key, store2]) => [\n          key,\n          key === connectionInformation.store ? initialState : store2.getState()\n        ])\n      )\n    );\n  }\n  if (api.dispatchFromDevtools && typeof api.dispatch === \"function\") {\n    let didWarnAboutReservedActionType = false;\n    const originalDispatch = api.dispatch;\n    api.dispatch = (...args) => {\n      if (( false ? 0 : void 0) !== \"production\" && args[0].type === \"__setState\" && !didWarnAboutReservedActionType) {\n        console.warn(\n          '[zustand devtools middleware] \"__setState\" action type is reserved to set state from the devtools. Avoid using it.'\n        );\n        didWarnAboutReservedActionType = true;\n      }\n      originalDispatch(...args);\n    };\n  }\n  connection.subscribe((message) => {\n    var _a;\n    switch (message.type) {\n      case \"ACTION\":\n        if (typeof message.payload !== \"string\") {\n          console.error(\n            \"[zustand devtools middleware] Unsupported action format\"\n          );\n          return;\n        }\n        return parseJsonThen(\n          message.payload,\n          (action) => {\n            if (action.type === \"__setState\") {\n              if (store === void 0) {\n                setStateFromDevtools(action.state);\n                return;\n              }\n              if (Object.keys(action.state).length !== 1) {\n                console.error(\n                  `\n                    [zustand devtools middleware] Unsupported __setState action format.\n                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),\n                    and value of this only key should be a state object. Example: { \"type\": \"__setState\", \"state\": { \"abc123Store\": { \"foo\": \"bar\" } } }\n                    `\n                );\n              }\n              const stateFromDevtools = action.state[store];\n              if (stateFromDevtools === void 0 || stateFromDevtools === null) {\n                return;\n              }\n              if (JSON.stringify(api.getState()) !== JSON.stringify(stateFromDevtools)) {\n                setStateFromDevtools(stateFromDevtools);\n              }\n              return;\n            }\n            if (!api.dispatchFromDevtools) return;\n            if (typeof api.dispatch !== \"function\") return;\n            api.dispatch(action);\n          }\n        );\n      case \"DISPATCH\":\n        switch (message.payload.type) {\n          case \"RESET\":\n            setStateFromDevtools(initialState);\n            if (store === void 0) {\n              return connection == null ? void 0 : connection.init(api.getState());\n            }\n            return connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n          case \"COMMIT\":\n            if (store === void 0) {\n              connection == null ? void 0 : connection.init(api.getState());\n              return;\n            }\n            return connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n          case \"ROLLBACK\":\n            return parseJsonThen(message.state, (state) => {\n              if (store === void 0) {\n                setStateFromDevtools(state);\n                connection == null ? void 0 : connection.init(api.getState());\n                return;\n              }\n              setStateFromDevtools(state[store]);\n              connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n            });\n          case \"JUMP_TO_STATE\":\n          case \"JUMP_TO_ACTION\":\n            return parseJsonThen(message.state, (state) => {\n              if (store === void 0) {\n                setStateFromDevtools(state);\n                return;\n              }\n              if (JSON.stringify(api.getState()) !== JSON.stringify(state[store])) {\n                setStateFromDevtools(state[store]);\n              }\n            });\n          case \"IMPORT_STATE\": {\n            const { nextLiftedState } = message.payload;\n            const lastComputedState = (_a = nextLiftedState.computedStates.slice(-1)[0]) == null ? void 0 : _a.state;\n            if (!lastComputedState) return;\n            if (store === void 0) {\n              setStateFromDevtools(lastComputedState);\n            } else {\n              setStateFromDevtools(lastComputedState[store]);\n            }\n            connection == null ? void 0 : connection.send(\n              null,\n              // FIXME no-any\n              nextLiftedState\n            );\n            return;\n          }\n          case \"PAUSE_RECORDING\":\n            return isRecording = !isRecording;\n        }\n        return;\n    }\n  });\n  return initialState;\n};\nconst devtools = devtoolsImpl;\nconst parseJsonThen = (stringified, fn) => {\n  let parsed;\n  try {\n    parsed = JSON.parse(stringified);\n  } catch (e) {\n    console.error(\n      \"[zustand devtools middleware] Could not parse the received json\",\n      e\n    );\n  }\n  if (parsed !== void 0) fn(parsed);\n};\n\nconst subscribeWithSelectorImpl = (fn) => (set, get, api) => {\n  const origSubscribe = api.subscribe;\n  api.subscribe = ((selector, optListener, options) => {\n    let listener = selector;\n    if (optListener) {\n      const equalityFn = (options == null ? void 0 : options.equalityFn) || Object.is;\n      let currentSlice = selector(api.getState());\n      listener = (state) => {\n        const nextSlice = selector(state);\n        if (!equalityFn(currentSlice, nextSlice)) {\n          const previousSlice = currentSlice;\n          optListener(currentSlice = nextSlice, previousSlice);\n        }\n      };\n      if (options == null ? void 0 : options.fireImmediately) {\n        optListener(currentSlice, currentSlice);\n      }\n    }\n    return origSubscribe(listener);\n  });\n  const initialState = fn(set, get, api);\n  return initialState;\n};\nconst subscribeWithSelector = subscribeWithSelectorImpl;\n\nfunction combine(initialState, create) {\n  return (...args) => Object.assign({}, initialState, create(...args));\n}\n\nfunction createJSONStorage(getStorage, options) {\n  let storage;\n  try {\n    storage = getStorage();\n  } catch (e) {\n    return;\n  }\n  const persistStorage = {\n    getItem: (name) => {\n      var _a;\n      const parse = (str2) => {\n        if (str2 === null) {\n          return null;\n        }\n        return JSON.parse(str2, options == null ? void 0 : options.reviver);\n      };\n      const str = (_a = storage.getItem(name)) != null ? _a : null;\n      if (str instanceof Promise) {\n        return str.then(parse);\n      }\n      return parse(str);\n    },\n    setItem: (name, newValue) => storage.setItem(name, JSON.stringify(newValue, options == null ? void 0 : options.replacer)),\n    removeItem: (name) => storage.removeItem(name)\n  };\n  return persistStorage;\n}\nconst toThenable = (fn) => (input) => {\n  try {\n    const result = fn(input);\n    if (result instanceof Promise) {\n      return result;\n    }\n    return {\n      then(onFulfilled) {\n        return toThenable(onFulfilled)(result);\n      },\n      catch(_onRejected) {\n        return this;\n      }\n    };\n  } catch (e) {\n    return {\n      then(_onFulfilled) {\n        return this;\n      },\n      catch(onRejected) {\n        return toThenable(onRejected)(e);\n      }\n    };\n  }\n};\nconst persistImpl = (config, baseOptions) => (set, get, api) => {\n  let options = {\n    storage: createJSONStorage(() => localStorage),\n    partialize: (state) => state,\n    version: 0,\n    merge: (persistedState, currentState) => ({\n      ...currentState,\n      ...persistedState\n    }),\n    ...baseOptions\n  };\n  let hasHydrated = false;\n  const hydrationListeners = /* @__PURE__ */ new Set();\n  const finishHydrationListeners = /* @__PURE__ */ new Set();\n  let storage = options.storage;\n  if (!storage) {\n    return config(\n      (...args) => {\n        console.warn(\n          `[zustand persist middleware] Unable to update item '${options.name}', the given storage is currently unavailable.`\n        );\n        set(...args);\n      },\n      get,\n      api\n    );\n  }\n  const setItem = () => {\n    const state = options.partialize({ ...get() });\n    return storage.setItem(options.name, {\n      state,\n      version: options.version\n    });\n  };\n  const savedSetState = api.setState;\n  api.setState = (state, replace) => {\n    savedSetState(state, replace);\n    return setItem();\n  };\n  const configResult = config(\n    (...args) => {\n      set(...args);\n      return setItem();\n    },\n    get,\n    api\n  );\n  api.getInitialState = () => configResult;\n  let stateFromStorage;\n  const hydrate = () => {\n    var _a, _b;\n    if (!storage) return;\n    hasHydrated = false;\n    hydrationListeners.forEach((cb) => {\n      var _a2;\n      return cb((_a2 = get()) != null ? _a2 : configResult);\n    });\n    const postRehydrationCallback = ((_b = options.onRehydrateStorage) == null ? void 0 : _b.call(options, (_a = get()) != null ? _a : configResult)) || void 0;\n    return toThenable(storage.getItem.bind(storage))(options.name).then((deserializedStorageValue) => {\n      if (deserializedStorageValue) {\n        if (typeof deserializedStorageValue.version === \"number\" && deserializedStorageValue.version !== options.version) {\n          if (options.migrate) {\n            const migration = options.migrate(\n              deserializedStorageValue.state,\n              deserializedStorageValue.version\n            );\n            if (migration instanceof Promise) {\n              return migration.then((result) => [true, result]);\n            }\n            return [true, migration];\n          }\n          console.error(\n            `State loaded from storage couldn't be migrated since no migrate function was provided`\n          );\n        } else {\n          return [false, deserializedStorageValue.state];\n        }\n      }\n      return [false, void 0];\n    }).then((migrationResult) => {\n      var _a2;\n      const [migrated, migratedState] = migrationResult;\n      stateFromStorage = options.merge(\n        migratedState,\n        (_a2 = get()) != null ? _a2 : configResult\n      );\n      set(stateFromStorage, true);\n      if (migrated) {\n        return setItem();\n      }\n    }).then(() => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(stateFromStorage, void 0);\n      stateFromStorage = get();\n      hasHydrated = true;\n      finishHydrationListeners.forEach((cb) => cb(stateFromStorage));\n    }).catch((e) => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(void 0, e);\n    });\n  };\n  api.persist = {\n    setOptions: (newOptions) => {\n      options = {\n        ...options,\n        ...newOptions\n      };\n      if (newOptions.storage) {\n        storage = newOptions.storage;\n      }\n    },\n    clearStorage: () => {\n      storage == null ? void 0 : storage.removeItem(options.name);\n    },\n    getOptions: () => options,\n    rehydrate: () => hydrate(),\n    hasHydrated: () => hasHydrated,\n    onHydrate: (cb) => {\n      hydrationListeners.add(cb);\n      return () => {\n        hydrationListeners.delete(cb);\n      };\n    },\n    onFinishHydration: (cb) => {\n      finishHydrationListeners.add(cb);\n      return () => {\n        finishHydrationListeners.delete(cb);\n      };\n    }\n  };\n  if (!options.skipHydration) {\n    hydrate();\n  }\n  return stateFromStorage || configResult;\n};\nconst persist = persistImpl;\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy96dXN0YW5kL2VzbS9taWRkbGV3YXJlLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEM7QUFDOUMsVUFBVSxrREFBa0Q7QUFDNUQ7QUFDQTtBQUNBLHVEQUF1RCxNQUFlLEdBQUcsQ0FBb0I7QUFDN0YsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSx1Q0FBdUM7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSx1Q0FBdUMscUJBQXFCO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLE1BQU0sR0FBRyxZQUFZO0FBQ3RDLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxNQUFlLEdBQUcsQ0FBb0I7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvRkFBb0YsaUNBQWlDLGlCQUFpQjtBQUN0STtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLG9CQUFvQixrQkFBa0I7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHNDQUFzQztBQUN0Qzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUVBQWlFLGFBQWE7QUFDOUU7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLFVBQVU7QUFDakQ7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFdUYiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3p1c3RhbmQvZXNtL21pZGRsZXdhcmUubWpzPzAyMTIiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcmVkdXhJbXBsID0gKHJlZHVjZXIsIGluaXRpYWwpID0+IChzZXQsIF9nZXQsIGFwaSkgPT4ge1xuICBhcGkuZGlzcGF0Y2ggPSAoYWN0aW9uKSA9PiB7XG4gICAgc2V0KChzdGF0ZSkgPT4gcmVkdWNlcihzdGF0ZSwgYWN0aW9uKSwgZmFsc2UsIGFjdGlvbik7XG4gICAgcmV0dXJuIGFjdGlvbjtcbiAgfTtcbiAgYXBpLmRpc3BhdGNoRnJvbURldnRvb2xzID0gdHJ1ZTtcbiAgcmV0dXJuIHsgZGlzcGF0Y2g6ICguLi5hcmdzKSA9PiBhcGkuZGlzcGF0Y2goLi4uYXJncyksIC4uLmluaXRpYWwgfTtcbn07XG5jb25zdCByZWR1eCA9IHJlZHV4SW1wbDtcblxuY29uc3QgdHJhY2tlZENvbm5lY3Rpb25zID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbmNvbnN0IGdldFRyYWNrZWRDb25uZWN0aW9uU3RhdGUgPSAobmFtZSkgPT4ge1xuICBjb25zdCBhcGkgPSB0cmFja2VkQ29ubmVjdGlvbnMuZ2V0KG5hbWUpO1xuICBpZiAoIWFwaSkgcmV0dXJuIHt9O1xuICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKFxuICAgIE9iamVjdC5lbnRyaWVzKGFwaS5zdG9yZXMpLm1hcCgoW2tleSwgYXBpMl0pID0+IFtrZXksIGFwaTIuZ2V0U3RhdGUoKV0pXG4gICk7XG59O1xuY29uc3QgZXh0cmFjdENvbm5lY3Rpb25JbmZvcm1hdGlvbiA9IChzdG9yZSwgZXh0ZW5zaW9uQ29ubmVjdG9yLCBvcHRpb25zKSA9PiB7XG4gIGlmIChzdG9yZSA9PT0gdm9pZCAwKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IFwidW50cmFja2VkXCIsXG4gICAgICBjb25uZWN0aW9uOiBleHRlbnNpb25Db25uZWN0b3IuY29ubmVjdChvcHRpb25zKVxuICAgIH07XG4gIH1cbiAgY29uc3QgZXhpc3RpbmdDb25uZWN0aW9uID0gdHJhY2tlZENvbm5lY3Rpb25zLmdldChvcHRpb25zLm5hbWUpO1xuICBpZiAoZXhpc3RpbmdDb25uZWN0aW9uKSB7XG4gICAgcmV0dXJuIHsgdHlwZTogXCJ0cmFja2VkXCIsIHN0b3JlLCAuLi5leGlzdGluZ0Nvbm5lY3Rpb24gfTtcbiAgfVxuICBjb25zdCBuZXdDb25uZWN0aW9uID0ge1xuICAgIGNvbm5lY3Rpb246IGV4dGVuc2lvbkNvbm5lY3Rvci5jb25uZWN0KG9wdGlvbnMpLFxuICAgIHN0b3Jlczoge31cbiAgfTtcbiAgdHJhY2tlZENvbm5lY3Rpb25zLnNldChvcHRpb25zLm5hbWUsIG5ld0Nvbm5lY3Rpb24pO1xuICByZXR1cm4geyB0eXBlOiBcInRyYWNrZWRcIiwgc3RvcmUsIC4uLm5ld0Nvbm5lY3Rpb24gfTtcbn07XG5jb25zdCByZW1vdmVTdG9yZUZyb21UcmFja2VkQ29ubmVjdGlvbnMgPSAobmFtZSwgc3RvcmUpID0+IHtcbiAgaWYgKHN0b3JlID09PSB2b2lkIDApIHJldHVybjtcbiAgY29uc3QgY29ubmVjdGlvbkluZm8gPSB0cmFja2VkQ29ubmVjdGlvbnMuZ2V0KG5hbWUpO1xuICBpZiAoIWNvbm5lY3Rpb25JbmZvKSByZXR1cm47XG4gIGRlbGV0ZSBjb25uZWN0aW9uSW5mby5zdG9yZXNbc3RvcmVdO1xuICBpZiAoT2JqZWN0LmtleXMoY29ubmVjdGlvbkluZm8uc3RvcmVzKS5sZW5ndGggPT09IDApIHtcbiAgICB0cmFja2VkQ29ubmVjdGlvbnMuZGVsZXRlKG5hbWUpO1xuICB9XG59O1xuY29uc3QgZmluZENhbGxlck5hbWUgPSAoc3RhY2spID0+IHtcbiAgdmFyIF9hLCBfYjtcbiAgaWYgKCFzdGFjaykgcmV0dXJuIHZvaWQgMDtcbiAgY29uc3QgdHJhY2VMaW5lcyA9IHN0YWNrLnNwbGl0KFwiXFxuXCIpO1xuICBjb25zdCBhcGlTZXRTdGF0ZUxpbmVJbmRleCA9IHRyYWNlTGluZXMuZmluZEluZGV4KFxuICAgICh0cmFjZUxpbmUpID0+IHRyYWNlTGluZS5pbmNsdWRlcyhcImFwaS5zZXRTdGF0ZVwiKVxuICApO1xuICBpZiAoYXBpU2V0U3RhdGVMaW5lSW5kZXggPCAwKSByZXR1cm4gdm9pZCAwO1xuICBjb25zdCBjYWxsZXJMaW5lID0gKChfYSA9IHRyYWNlTGluZXNbYXBpU2V0U3RhdGVMaW5lSW5kZXggKyAxXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnRyaW0oKSkgfHwgXCJcIjtcbiAgcmV0dXJuIChfYiA9IC8uKyAoLispIC4rLy5leGVjKGNhbGxlckxpbmUpKSA9PSBudWxsID8gdm9pZCAwIDogX2JbMV07XG59O1xuY29uc3QgZGV2dG9vbHNJbXBsID0gKGZuLCBkZXZ0b29sc09wdGlvbnMgPSB7fSkgPT4gKHNldCwgZ2V0LCBhcGkpID0+IHtcbiAgY29uc3QgeyBlbmFibGVkLCBhbm9ueW1vdXNBY3Rpb25UeXBlLCBzdG9yZSwgLi4ub3B0aW9ucyB9ID0gZGV2dG9vbHNPcHRpb25zO1xuICBsZXQgZXh0ZW5zaW9uQ29ubmVjdG9yO1xuICB0cnkge1xuICAgIGV4dGVuc2lvbkNvbm5lY3RvciA9IChlbmFibGVkICE9IG51bGwgPyBlbmFibGVkIDogKGltcG9ydC5tZXRhLmVudiA/IGltcG9ydC5tZXRhLmVudi5NT0RFIDogdm9pZCAwKSAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHdpbmRvdy5fX1JFRFVYX0RFVlRPT0xTX0VYVEVOU0lPTl9fO1xuICB9IGNhdGNoIChlKSB7XG4gIH1cbiAgaWYgKCFleHRlbnNpb25Db25uZWN0b3IpIHtcbiAgICByZXR1cm4gZm4oc2V0LCBnZXQsIGFwaSk7XG4gIH1cbiAgY29uc3QgeyBjb25uZWN0aW9uLCAuLi5jb25uZWN0aW9uSW5mb3JtYXRpb24gfSA9IGV4dHJhY3RDb25uZWN0aW9uSW5mb3JtYXRpb24oc3RvcmUsIGV4dGVuc2lvbkNvbm5lY3Rvciwgb3B0aW9ucyk7XG4gIGxldCBpc1JlY29yZGluZyA9IHRydWU7XG4gIGFwaS5zZXRTdGF0ZSA9ICgoc3RhdGUsIHJlcGxhY2UsIG5hbWVPckFjdGlvbikgPT4ge1xuICAgIGNvbnN0IHIgPSBzZXQoc3RhdGUsIHJlcGxhY2UpO1xuICAgIGlmICghaXNSZWNvcmRpbmcpIHJldHVybiByO1xuICAgIGNvbnN0IGFjdGlvbiA9IG5hbWVPckFjdGlvbiA9PT0gdm9pZCAwID8ge1xuICAgICAgdHlwZTogYW5vbnltb3VzQWN0aW9uVHlwZSB8fCBmaW5kQ2FsbGVyTmFtZShuZXcgRXJyb3IoKS5zdGFjaykgfHwgXCJhbm9ueW1vdXNcIlxuICAgIH0gOiB0eXBlb2YgbmFtZU9yQWN0aW9uID09PSBcInN0cmluZ1wiID8geyB0eXBlOiBuYW1lT3JBY3Rpb24gfSA6IG5hbWVPckFjdGlvbjtcbiAgICBpZiAoc3RvcmUgPT09IHZvaWQgMCkge1xuICAgICAgY29ubmVjdGlvbiA9PSBudWxsID8gdm9pZCAwIDogY29ubmVjdGlvbi5zZW5kKGFjdGlvbiwgZ2V0KCkpO1xuICAgICAgcmV0dXJuIHI7XG4gICAgfVxuICAgIGNvbm5lY3Rpb24gPT0gbnVsbCA/IHZvaWQgMCA6IGNvbm5lY3Rpb24uc2VuZChcbiAgICAgIHtcbiAgICAgICAgLi4uYWN0aW9uLFxuICAgICAgICB0eXBlOiBgJHtzdG9yZX0vJHthY3Rpb24udHlwZX1gXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICAuLi5nZXRUcmFja2VkQ29ubmVjdGlvblN0YXRlKG9wdGlvbnMubmFtZSksXG4gICAgICAgIFtzdG9yZV06IGFwaS5nZXRTdGF0ZSgpXG4gICAgICB9XG4gICAgKTtcbiAgICByZXR1cm4gcjtcbiAgfSk7XG4gIGFwaS5kZXZ0b29scyA9IHtcbiAgICBjbGVhbnVwOiAoKSA9PiB7XG4gICAgICBpZiAoY29ubmVjdGlvbiAmJiB0eXBlb2YgY29ubmVjdGlvbi51bnN1YnNjcmliZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIGNvbm5lY3Rpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgIH1cbiAgICAgIHJlbW92ZVN0b3JlRnJvbVRyYWNrZWRDb25uZWN0aW9ucyhvcHRpb25zLm5hbWUsIHN0b3JlKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHNldFN0YXRlRnJvbURldnRvb2xzID0gKC4uLmEpID0+IHtcbiAgICBjb25zdCBvcmlnaW5hbElzUmVjb3JkaW5nID0gaXNSZWNvcmRpbmc7XG4gICAgaXNSZWNvcmRpbmcgPSBmYWxzZTtcbiAgICBzZXQoLi4uYSk7XG4gICAgaXNSZWNvcmRpbmcgPSBvcmlnaW5hbElzUmVjb3JkaW5nO1xuICB9O1xuICBjb25zdCBpbml0aWFsU3RhdGUgPSBmbihhcGkuc2V0U3RhdGUsIGdldCwgYXBpKTtcbiAgaWYgKGNvbm5lY3Rpb25JbmZvcm1hdGlvbi50eXBlID09PSBcInVudHJhY2tlZFwiKSB7XG4gICAgY29ubmVjdGlvbiA9PSBudWxsID8gdm9pZCAwIDogY29ubmVjdGlvbi5pbml0KGluaXRpYWxTdGF0ZSk7XG4gIH0gZWxzZSB7XG4gICAgY29ubmVjdGlvbkluZm9ybWF0aW9uLnN0b3Jlc1tjb25uZWN0aW9uSW5mb3JtYXRpb24uc3RvcmVdID0gYXBpO1xuICAgIGNvbm5lY3Rpb24gPT0gbnVsbCA/IHZvaWQgMCA6IGNvbm5lY3Rpb24uaW5pdChcbiAgICAgIE9iamVjdC5mcm9tRW50cmllcyhcbiAgICAgICAgT2JqZWN0LmVudHJpZXMoY29ubmVjdGlvbkluZm9ybWF0aW9uLnN0b3JlcykubWFwKChba2V5LCBzdG9yZTJdKSA9PiBbXG4gICAgICAgICAga2V5LFxuICAgICAgICAgIGtleSA9PT0gY29ubmVjdGlvbkluZm9ybWF0aW9uLnN0b3JlID8gaW5pdGlhbFN0YXRlIDogc3RvcmUyLmdldFN0YXRlKClcbiAgICAgICAgXSlcbiAgICAgIClcbiAgICApO1xuICB9XG4gIGlmIChhcGkuZGlzcGF0Y2hGcm9tRGV2dG9vbHMgJiYgdHlwZW9mIGFwaS5kaXNwYXRjaCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgbGV0IGRpZFdhcm5BYm91dFJlc2VydmVkQWN0aW9uVHlwZSA9IGZhbHNlO1xuICAgIGNvbnN0IG9yaWdpbmFsRGlzcGF0Y2ggPSBhcGkuZGlzcGF0Y2g7XG4gICAgYXBpLmRpc3BhdGNoID0gKC4uLmFyZ3MpID0+IHtcbiAgICAgIGlmICgoaW1wb3J0Lm1ldGEuZW52ID8gaW1wb3J0Lm1ldGEuZW52Lk1PREUgOiB2b2lkIDApICE9PSBcInByb2R1Y3Rpb25cIiAmJiBhcmdzWzBdLnR5cGUgPT09IFwiX19zZXRTdGF0ZVwiICYmICFkaWRXYXJuQWJvdXRSZXNlcnZlZEFjdGlvblR5cGUpIHtcbiAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICdbenVzdGFuZCBkZXZ0b29scyBtaWRkbGV3YXJlXSBcIl9fc2V0U3RhdGVcIiBhY3Rpb24gdHlwZSBpcyByZXNlcnZlZCB0byBzZXQgc3RhdGUgZnJvbSB0aGUgZGV2dG9vbHMuIEF2b2lkIHVzaW5nIGl0LidcbiAgICAgICAgKTtcbiAgICAgICAgZGlkV2FybkFib3V0UmVzZXJ2ZWRBY3Rpb25UeXBlID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIG9yaWdpbmFsRGlzcGF0Y2goLi4uYXJncyk7XG4gICAgfTtcbiAgfVxuICBjb25uZWN0aW9uLnN1YnNjcmliZSgobWVzc2FnZSkgPT4ge1xuICAgIHZhciBfYTtcbiAgICBzd2l0Y2ggKG1lc3NhZ2UudHlwZSkge1xuICAgICAgY2FzZSBcIkFDVElPTlwiOlxuICAgICAgICBpZiAodHlwZW9mIG1lc3NhZ2UucGF5bG9hZCAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIlt6dXN0YW5kIGRldnRvb2xzIG1pZGRsZXdhcmVdIFVuc3VwcG9ydGVkIGFjdGlvbiBmb3JtYXRcIlxuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXJzZUpzb25UaGVuKFxuICAgICAgICAgIG1lc3NhZ2UucGF5bG9hZCxcbiAgICAgICAgICAoYWN0aW9uKSA9PiB7XG4gICAgICAgICAgICBpZiAoYWN0aW9uLnR5cGUgPT09IFwiX19zZXRTdGF0ZVwiKSB7XG4gICAgICAgICAgICAgIGlmIChzdG9yZSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgc2V0U3RhdGVGcm9tRGV2dG9vbHMoYWN0aW9uLnN0YXRlKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKGFjdGlvbi5zdGF0ZSkubGVuZ3RoICE9PSAxKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgIGBcbiAgICAgICAgICAgICAgICAgICAgW3p1c3RhbmQgZGV2dG9vbHMgbWlkZGxld2FyZV0gVW5zdXBwb3J0ZWQgX19zZXRTdGF0ZSBhY3Rpb24gZm9ybWF0LlxuICAgICAgICAgICAgICAgICAgICBXaGVuIHVzaW5nICdzdG9yZScgb3B0aW9uIGluIGRldnRvb2xzKCksIHRoZSAnc3RhdGUnIHNob3VsZCBoYXZlIG9ubHkgb25lIGtleSwgd2hpY2ggaXMgYSB2YWx1ZSBvZiAnc3RvcmUnIHRoYXQgd2FzIHBhc3NlZCBpbiBkZXZ0b29scygpLFxuICAgICAgICAgICAgICAgICAgICBhbmQgdmFsdWUgb2YgdGhpcyBvbmx5IGtleSBzaG91bGQgYmUgYSBzdGF0ZSBvYmplY3QuIEV4YW1wbGU6IHsgXCJ0eXBlXCI6IFwiX19zZXRTdGF0ZVwiLCBcInN0YXRlXCI6IHsgXCJhYmMxMjNTdG9yZVwiOiB7IFwiZm9vXCI6IFwiYmFyXCIgfSB9IH1cbiAgICAgICAgICAgICAgICAgICAgYFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgY29uc3Qgc3RhdGVGcm9tRGV2dG9vbHMgPSBhY3Rpb24uc3RhdGVbc3RvcmVdO1xuICAgICAgICAgICAgICBpZiAoc3RhdGVGcm9tRGV2dG9vbHMgPT09IHZvaWQgMCB8fCBzdGF0ZUZyb21EZXZ0b29scyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoSlNPTi5zdHJpbmdpZnkoYXBpLmdldFN0YXRlKCkpICE9PSBKU09OLnN0cmluZ2lmeShzdGF0ZUZyb21EZXZ0b29scykpIHtcbiAgICAgICAgICAgICAgICBzZXRTdGF0ZUZyb21EZXZ0b29scyhzdGF0ZUZyb21EZXZ0b29scyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFhcGkuZGlzcGF0Y2hGcm9tRGV2dG9vbHMpIHJldHVybjtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgYXBpLmRpc3BhdGNoICE9PSBcImZ1bmN0aW9uXCIpIHJldHVybjtcbiAgICAgICAgICAgIGFwaS5kaXNwYXRjaChhY3Rpb24pO1xuICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICAgIGNhc2UgXCJESVNQQVRDSFwiOlxuICAgICAgICBzd2l0Y2ggKG1lc3NhZ2UucGF5bG9hZC50eXBlKSB7XG4gICAgICAgICAgY2FzZSBcIlJFU0VUXCI6XG4gICAgICAgICAgICBzZXRTdGF0ZUZyb21EZXZ0b29scyhpbml0aWFsU3RhdGUpO1xuICAgICAgICAgICAgaWYgKHN0b3JlID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGNvbm5lY3Rpb24gPT0gbnVsbCA/IHZvaWQgMCA6IGNvbm5lY3Rpb24uaW5pdChhcGkuZ2V0U3RhdGUoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY29ubmVjdGlvbiA9PSBudWxsID8gdm9pZCAwIDogY29ubmVjdGlvbi5pbml0KGdldFRyYWNrZWRDb25uZWN0aW9uU3RhdGUob3B0aW9ucy5uYW1lKSk7XG4gICAgICAgICAgY2FzZSBcIkNPTU1JVFwiOlxuICAgICAgICAgICAgaWYgKHN0b3JlID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgY29ubmVjdGlvbiA9PSBudWxsID8gdm9pZCAwIDogY29ubmVjdGlvbi5pbml0KGFwaS5nZXRTdGF0ZSgpKTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNvbm5lY3Rpb24gPT0gbnVsbCA/IHZvaWQgMCA6IGNvbm5lY3Rpb24uaW5pdChnZXRUcmFja2VkQ29ubmVjdGlvblN0YXRlKG9wdGlvbnMubmFtZSkpO1xuICAgICAgICAgIGNhc2UgXCJST0xMQkFDS1wiOlxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlSnNvblRoZW4obWVzc2FnZS5zdGF0ZSwgKHN0YXRlKSA9PiB7XG4gICAgICAgICAgICAgIGlmIChzdG9yZSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgc2V0U3RhdGVGcm9tRGV2dG9vbHMoc3RhdGUpO1xuICAgICAgICAgICAgICAgIGNvbm5lY3Rpb24gPT0gbnVsbCA/IHZvaWQgMCA6IGNvbm5lY3Rpb24uaW5pdChhcGkuZ2V0U3RhdGUoKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHNldFN0YXRlRnJvbURldnRvb2xzKHN0YXRlW3N0b3JlXSk7XG4gICAgICAgICAgICAgIGNvbm5lY3Rpb24gPT0gbnVsbCA/IHZvaWQgMCA6IGNvbm5lY3Rpb24uaW5pdChnZXRUcmFja2VkQ29ubmVjdGlvblN0YXRlKG9wdGlvbnMubmFtZSkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgY2FzZSBcIkpVTVBfVE9fU1RBVEVcIjpcbiAgICAgICAgICBjYXNlIFwiSlVNUF9UT19BQ1RJT05cIjpcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUpzb25UaGVuKG1lc3NhZ2Uuc3RhdGUsIChzdGF0ZSkgPT4ge1xuICAgICAgICAgICAgICBpZiAoc3RvcmUgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgIHNldFN0YXRlRnJvbURldnRvb2xzKHN0YXRlKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKEpTT04uc3RyaW5naWZ5KGFwaS5nZXRTdGF0ZSgpKSAhPT0gSlNPTi5zdHJpbmdpZnkoc3RhdGVbc3RvcmVdKSkge1xuICAgICAgICAgICAgICAgIHNldFN0YXRlRnJvbURldnRvb2xzKHN0YXRlW3N0b3JlXSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIGNhc2UgXCJJTVBPUlRfU1RBVEVcIjoge1xuICAgICAgICAgICAgY29uc3QgeyBuZXh0TGlmdGVkU3RhdGUgfSA9IG1lc3NhZ2UucGF5bG9hZDtcbiAgICAgICAgICAgIGNvbnN0IGxhc3RDb21wdXRlZFN0YXRlID0gKF9hID0gbmV4dExpZnRlZFN0YXRlLmNvbXB1dGVkU3RhdGVzLnNsaWNlKC0xKVswXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnN0YXRlO1xuICAgICAgICAgICAgaWYgKCFsYXN0Q29tcHV0ZWRTdGF0ZSkgcmV0dXJuO1xuICAgICAgICAgICAgaWYgKHN0b3JlID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgc2V0U3RhdGVGcm9tRGV2dG9vbHMobGFzdENvbXB1dGVkU3RhdGUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgc2V0U3RhdGVGcm9tRGV2dG9vbHMobGFzdENvbXB1dGVkU3RhdGVbc3RvcmVdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbm5lY3Rpb24gPT0gbnVsbCA/IHZvaWQgMCA6IGNvbm5lY3Rpb24uc2VuZChcbiAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgLy8gRklYTUUgbm8tYW55XG4gICAgICAgICAgICAgIG5leHRMaWZ0ZWRTdGF0ZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSBcIlBBVVNFX1JFQ09SRElOR1wiOlxuICAgICAgICAgICAgcmV0dXJuIGlzUmVjb3JkaW5nID0gIWlzUmVjb3JkaW5nO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gaW5pdGlhbFN0YXRlO1xufTtcbmNvbnN0IGRldnRvb2xzID0gZGV2dG9vbHNJbXBsO1xuY29uc3QgcGFyc2VKc29uVGhlbiA9IChzdHJpbmdpZmllZCwgZm4pID0+IHtcbiAgbGV0IHBhcnNlZDtcbiAgdHJ5IHtcbiAgICBwYXJzZWQgPSBKU09OLnBhcnNlKHN0cmluZ2lmaWVkKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICBcIlt6dXN0YW5kIGRldnRvb2xzIG1pZGRsZXdhcmVdIENvdWxkIG5vdCBwYXJzZSB0aGUgcmVjZWl2ZWQganNvblwiLFxuICAgICAgZVxuICAgICk7XG4gIH1cbiAgaWYgKHBhcnNlZCAhPT0gdm9pZCAwKSBmbihwYXJzZWQpO1xufTtcblxuY29uc3Qgc3Vic2NyaWJlV2l0aFNlbGVjdG9ySW1wbCA9IChmbikgPT4gKHNldCwgZ2V0LCBhcGkpID0+IHtcbiAgY29uc3Qgb3JpZ1N1YnNjcmliZSA9IGFwaS5zdWJzY3JpYmU7XG4gIGFwaS5zdWJzY3JpYmUgPSAoKHNlbGVjdG9yLCBvcHRMaXN0ZW5lciwgb3B0aW9ucykgPT4ge1xuICAgIGxldCBsaXN0ZW5lciA9IHNlbGVjdG9yO1xuICAgIGlmIChvcHRMaXN0ZW5lcikge1xuICAgICAgY29uc3QgZXF1YWxpdHlGbiA9IChvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLmVxdWFsaXR5Rm4pIHx8IE9iamVjdC5pcztcbiAgICAgIGxldCBjdXJyZW50U2xpY2UgPSBzZWxlY3RvcihhcGkuZ2V0U3RhdGUoKSk7XG4gICAgICBsaXN0ZW5lciA9IChzdGF0ZSkgPT4ge1xuICAgICAgICBjb25zdCBuZXh0U2xpY2UgPSBzZWxlY3RvcihzdGF0ZSk7XG4gICAgICAgIGlmICghZXF1YWxpdHlGbihjdXJyZW50U2xpY2UsIG5leHRTbGljZSkpIHtcbiAgICAgICAgICBjb25zdCBwcmV2aW91c1NsaWNlID0gY3VycmVudFNsaWNlO1xuICAgICAgICAgIG9wdExpc3RlbmVyKGN1cnJlbnRTbGljZSA9IG5leHRTbGljZSwgcHJldmlvdXNTbGljZSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBpZiAob3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5maXJlSW1tZWRpYXRlbHkpIHtcbiAgICAgICAgb3B0TGlzdGVuZXIoY3VycmVudFNsaWNlLCBjdXJyZW50U2xpY2UpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb3JpZ1N1YnNjcmliZShsaXN0ZW5lcik7XG4gIH0pO1xuICBjb25zdCBpbml0aWFsU3RhdGUgPSBmbihzZXQsIGdldCwgYXBpKTtcbiAgcmV0dXJuIGluaXRpYWxTdGF0ZTtcbn07XG5jb25zdCBzdWJzY3JpYmVXaXRoU2VsZWN0b3IgPSBzdWJzY3JpYmVXaXRoU2VsZWN0b3JJbXBsO1xuXG5mdW5jdGlvbiBjb21iaW5lKGluaXRpYWxTdGF0ZSwgY3JlYXRlKSB7XG4gIHJldHVybiAoLi4uYXJncykgPT4gT2JqZWN0LmFzc2lnbih7fSwgaW5pdGlhbFN0YXRlLCBjcmVhdGUoLi4uYXJncykpO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVKU09OU3RvcmFnZShnZXRTdG9yYWdlLCBvcHRpb25zKSB7XG4gIGxldCBzdG9yYWdlO1xuICB0cnkge1xuICAgIHN0b3JhZ2UgPSBnZXRTdG9yYWdlKCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgcGVyc2lzdFN0b3JhZ2UgPSB7XG4gICAgZ2V0SXRlbTogKG5hbWUpID0+IHtcbiAgICAgIHZhciBfYTtcbiAgICAgIGNvbnN0IHBhcnNlID0gKHN0cjIpID0+IHtcbiAgICAgICAgaWYgKHN0cjIgPT09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShzdHIyLCBvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLnJldml2ZXIpO1xuICAgICAgfTtcbiAgICAgIGNvbnN0IHN0ciA9IChfYSA9IHN0b3JhZ2UuZ2V0SXRlbShuYW1lKSkgIT0gbnVsbCA/IF9hIDogbnVsbDtcbiAgICAgIGlmIChzdHIgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgIHJldHVybiBzdHIudGhlbihwYXJzZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcGFyc2Uoc3RyKTtcbiAgICB9LFxuICAgIHNldEl0ZW06IChuYW1lLCBuZXdWYWx1ZSkgPT4gc3RvcmFnZS5zZXRJdGVtKG5hbWUsIEpTT04uc3RyaW5naWZ5KG5ld1ZhbHVlLCBvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLnJlcGxhY2VyKSksXG4gICAgcmVtb3ZlSXRlbTogKG5hbWUpID0+IHN0b3JhZ2UucmVtb3ZlSXRlbShuYW1lKVxuICB9O1xuICByZXR1cm4gcGVyc2lzdFN0b3JhZ2U7XG59XG5jb25zdCB0b1RoZW5hYmxlID0gKGZuKSA9PiAoaW5wdXQpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCByZXN1bHQgPSBmbihpbnB1dCk7XG4gICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICB0aGVuKG9uRnVsZmlsbGVkKSB7XG4gICAgICAgIHJldHVybiB0b1RoZW5hYmxlKG9uRnVsZmlsbGVkKShyZXN1bHQpO1xuICAgICAgfSxcbiAgICAgIGNhdGNoKF9vblJlamVjdGVkKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgIH07XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdGhlbihfb25GdWxmaWxsZWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9LFxuICAgICAgY2F0Y2gob25SZWplY3RlZCkge1xuICAgICAgICByZXR1cm4gdG9UaGVuYWJsZShvblJlamVjdGVkKShlKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG59O1xuY29uc3QgcGVyc2lzdEltcGwgPSAoY29uZmlnLCBiYXNlT3B0aW9ucykgPT4gKHNldCwgZ2V0LCBhcGkpID0+IHtcbiAgbGV0IG9wdGlvbnMgPSB7XG4gICAgc3RvcmFnZTogY3JlYXRlSlNPTlN0b3JhZ2UoKCkgPT4gbG9jYWxTdG9yYWdlKSxcbiAgICBwYXJ0aWFsaXplOiAoc3RhdGUpID0+IHN0YXRlLFxuICAgIHZlcnNpb246IDAsXG4gICAgbWVyZ2U6IChwZXJzaXN0ZWRTdGF0ZSwgY3VycmVudFN0YXRlKSA9PiAoe1xuICAgICAgLi4uY3VycmVudFN0YXRlLFxuICAgICAgLi4ucGVyc2lzdGVkU3RhdGVcbiAgICB9KSxcbiAgICAuLi5iYXNlT3B0aW9uc1xuICB9O1xuICBsZXQgaGFzSHlkcmF0ZWQgPSBmYWxzZTtcbiAgY29uc3QgaHlkcmF0aW9uTGlzdGVuZXJzID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgY29uc3QgZmluaXNoSHlkcmF0aW9uTGlzdGVuZXJzID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgbGV0IHN0b3JhZ2UgPSBvcHRpb25zLnN0b3JhZ2U7XG4gIGlmICghc3RvcmFnZSkge1xuICAgIHJldHVybiBjb25maWcoXG4gICAgICAoLi4uYXJncykgPT4ge1xuICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgYFt6dXN0YW5kIHBlcnNpc3QgbWlkZGxld2FyZV0gVW5hYmxlIHRvIHVwZGF0ZSBpdGVtICcke29wdGlvbnMubmFtZX0nLCB0aGUgZ2l2ZW4gc3RvcmFnZSBpcyBjdXJyZW50bHkgdW5hdmFpbGFibGUuYFxuICAgICAgICApO1xuICAgICAgICBzZXQoLi4uYXJncyk7XG4gICAgICB9LFxuICAgICAgZ2V0LFxuICAgICAgYXBpXG4gICAgKTtcbiAgfVxuICBjb25zdCBzZXRJdGVtID0gKCkgPT4ge1xuICAgIGNvbnN0IHN0YXRlID0gb3B0aW9ucy5wYXJ0aWFsaXplKHsgLi4uZ2V0KCkgfSk7XG4gICAgcmV0dXJuIHN0b3JhZ2Uuc2V0SXRlbShvcHRpb25zLm5hbWUsIHtcbiAgICAgIHN0YXRlLFxuICAgICAgdmVyc2lvbjogb3B0aW9ucy52ZXJzaW9uXG4gICAgfSk7XG4gIH07XG4gIGNvbnN0IHNhdmVkU2V0U3RhdGUgPSBhcGkuc2V0U3RhdGU7XG4gIGFwaS5zZXRTdGF0ZSA9IChzdGF0ZSwgcmVwbGFjZSkgPT4ge1xuICAgIHNhdmVkU2V0U3RhdGUoc3RhdGUsIHJlcGxhY2UpO1xuICAgIHJldHVybiBzZXRJdGVtKCk7XG4gIH07XG4gIGNvbnN0IGNvbmZpZ1Jlc3VsdCA9IGNvbmZpZyhcbiAgICAoLi4uYXJncykgPT4ge1xuICAgICAgc2V0KC4uLmFyZ3MpO1xuICAgICAgcmV0dXJuIHNldEl0ZW0oKTtcbiAgICB9LFxuICAgIGdldCxcbiAgICBhcGlcbiAgKTtcbiAgYXBpLmdldEluaXRpYWxTdGF0ZSA9ICgpID0+IGNvbmZpZ1Jlc3VsdDtcbiAgbGV0IHN0YXRlRnJvbVN0b3JhZ2U7XG4gIGNvbnN0IGh5ZHJhdGUgPSAoKSA9PiB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICBpZiAoIXN0b3JhZ2UpIHJldHVybjtcbiAgICBoYXNIeWRyYXRlZCA9IGZhbHNlO1xuICAgIGh5ZHJhdGlvbkxpc3RlbmVycy5mb3JFYWNoKChjYikgPT4ge1xuICAgICAgdmFyIF9hMjtcbiAgICAgIHJldHVybiBjYigoX2EyID0gZ2V0KCkpICE9IG51bGwgPyBfYTIgOiBjb25maWdSZXN1bHQpO1xuICAgIH0pO1xuICAgIGNvbnN0IHBvc3RSZWh5ZHJhdGlvbkNhbGxiYWNrID0gKChfYiA9IG9wdGlvbnMub25SZWh5ZHJhdGVTdG9yYWdlKSA9PSBudWxsID8gdm9pZCAwIDogX2IuY2FsbChvcHRpb25zLCAoX2EgPSBnZXQoKSkgIT0gbnVsbCA/IF9hIDogY29uZmlnUmVzdWx0KSkgfHwgdm9pZCAwO1xuICAgIHJldHVybiB0b1RoZW5hYmxlKHN0b3JhZ2UuZ2V0SXRlbS5iaW5kKHN0b3JhZ2UpKShvcHRpb25zLm5hbWUpLnRoZW4oKGRlc2VyaWFsaXplZFN0b3JhZ2VWYWx1ZSkgPT4ge1xuICAgICAgaWYgKGRlc2VyaWFsaXplZFN0b3JhZ2VWYWx1ZSkge1xuICAgICAgICBpZiAodHlwZW9mIGRlc2VyaWFsaXplZFN0b3JhZ2VWYWx1ZS52ZXJzaW9uID09PSBcIm51bWJlclwiICYmIGRlc2VyaWFsaXplZFN0b3JhZ2VWYWx1ZS52ZXJzaW9uICE9PSBvcHRpb25zLnZlcnNpb24pIHtcbiAgICAgICAgICBpZiAob3B0aW9ucy5taWdyYXRlKSB7XG4gICAgICAgICAgICBjb25zdCBtaWdyYXRpb24gPSBvcHRpb25zLm1pZ3JhdGUoXG4gICAgICAgICAgICAgIGRlc2VyaWFsaXplZFN0b3JhZ2VWYWx1ZS5zdGF0ZSxcbiAgICAgICAgICAgICAgZGVzZXJpYWxpemVkU3RvcmFnZVZhbHVlLnZlcnNpb25cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpZiAobWlncmF0aW9uIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICByZXR1cm4gbWlncmF0aW9uLnRoZW4oKHJlc3VsdCkgPT4gW3RydWUsIHJlc3VsdF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFt0cnVlLCBtaWdyYXRpb25dO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgYFN0YXRlIGxvYWRlZCBmcm9tIHN0b3JhZ2UgY291bGRuJ3QgYmUgbWlncmF0ZWQgc2luY2Ugbm8gbWlncmF0ZSBmdW5jdGlvbiB3YXMgcHJvdmlkZWRgXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gW2ZhbHNlLCBkZXNlcmlhbGl6ZWRTdG9yYWdlVmFsdWUuc3RhdGVdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gW2ZhbHNlLCB2b2lkIDBdO1xuICAgIH0pLnRoZW4oKG1pZ3JhdGlvblJlc3VsdCkgPT4ge1xuICAgICAgdmFyIF9hMjtcbiAgICAgIGNvbnN0IFttaWdyYXRlZCwgbWlncmF0ZWRTdGF0ZV0gPSBtaWdyYXRpb25SZXN1bHQ7XG4gICAgICBzdGF0ZUZyb21TdG9yYWdlID0gb3B0aW9ucy5tZXJnZShcbiAgICAgICAgbWlncmF0ZWRTdGF0ZSxcbiAgICAgICAgKF9hMiA9IGdldCgpKSAhPSBudWxsID8gX2EyIDogY29uZmlnUmVzdWx0XG4gICAgICApO1xuICAgICAgc2V0KHN0YXRlRnJvbVN0b3JhZ2UsIHRydWUpO1xuICAgICAgaWYgKG1pZ3JhdGVkKSB7XG4gICAgICAgIHJldHVybiBzZXRJdGVtKCk7XG4gICAgICB9XG4gICAgfSkudGhlbigoKSA9PiB7XG4gICAgICBwb3N0UmVoeWRyYXRpb25DYWxsYmFjayA9PSBudWxsID8gdm9pZCAwIDogcG9zdFJlaHlkcmF0aW9uQ2FsbGJhY2soc3RhdGVGcm9tU3RvcmFnZSwgdm9pZCAwKTtcbiAgICAgIHN0YXRlRnJvbVN0b3JhZ2UgPSBnZXQoKTtcbiAgICAgIGhhc0h5ZHJhdGVkID0gdHJ1ZTtcbiAgICAgIGZpbmlzaEh5ZHJhdGlvbkxpc3RlbmVycy5mb3JFYWNoKChjYikgPT4gY2Ioc3RhdGVGcm9tU3RvcmFnZSkpO1xuICAgIH0pLmNhdGNoKChlKSA9PiB7XG4gICAgICBwb3N0UmVoeWRyYXRpb25DYWxsYmFjayA9PSBudWxsID8gdm9pZCAwIDogcG9zdFJlaHlkcmF0aW9uQ2FsbGJhY2sodm9pZCAwLCBlKTtcbiAgICB9KTtcbiAgfTtcbiAgYXBpLnBlcnNpc3QgPSB7XG4gICAgc2V0T3B0aW9uczogKG5ld09wdGlvbnMpID0+IHtcbiAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIC4uLm5ld09wdGlvbnNcbiAgICAgIH07XG4gICAgICBpZiAobmV3T3B0aW9ucy5zdG9yYWdlKSB7XG4gICAgICAgIHN0b3JhZ2UgPSBuZXdPcHRpb25zLnN0b3JhZ2U7XG4gICAgICB9XG4gICAgfSxcbiAgICBjbGVhclN0b3JhZ2U6ICgpID0+IHtcbiAgICAgIHN0b3JhZ2UgPT0gbnVsbCA/IHZvaWQgMCA6IHN0b3JhZ2UucmVtb3ZlSXRlbShvcHRpb25zLm5hbWUpO1xuICAgIH0sXG4gICAgZ2V0T3B0aW9uczogKCkgPT4gb3B0aW9ucyxcbiAgICByZWh5ZHJhdGU6ICgpID0+IGh5ZHJhdGUoKSxcbiAgICBoYXNIeWRyYXRlZDogKCkgPT4gaGFzSHlkcmF0ZWQsXG4gICAgb25IeWRyYXRlOiAoY2IpID0+IHtcbiAgICAgIGh5ZHJhdGlvbkxpc3RlbmVycy5hZGQoY2IpO1xuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgaHlkcmF0aW9uTGlzdGVuZXJzLmRlbGV0ZShjYik7XG4gICAgICB9O1xuICAgIH0sXG4gICAgb25GaW5pc2hIeWRyYXRpb246IChjYikgPT4ge1xuICAgICAgZmluaXNoSHlkcmF0aW9uTGlzdGVuZXJzLmFkZChjYik7XG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBmaW5pc2hIeWRyYXRpb25MaXN0ZW5lcnMuZGVsZXRlKGNiKTtcbiAgICAgIH07XG4gICAgfVxuICB9O1xuICBpZiAoIW9wdGlvbnMuc2tpcEh5ZHJhdGlvbikge1xuICAgIGh5ZHJhdGUoKTtcbiAgfVxuICByZXR1cm4gc3RhdGVGcm9tU3RvcmFnZSB8fCBjb25maWdSZXN1bHQ7XG59O1xuY29uc3QgcGVyc2lzdCA9IHBlcnNpc3RJbXBsO1xuXG5leHBvcnQgeyBjb21iaW5lLCBjcmVhdGVKU09OU3RvcmFnZSwgZGV2dG9vbHMsIHBlcnNpc3QsIHJlZHV4LCBzdWJzY3JpYmVXaXRoU2VsZWN0b3IgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/zustand/esm/middleware.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/zustand/esm/react.mjs":
/*!********************************************!*\
  !*** ./node_modules/zustand/esm/react.mjs ***!
  \********************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   create: function() { return /* binding */ create; },\n/* harmony export */   useStore: function() { return /* binding */ useStore; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var zustand_vanilla__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! zustand/vanilla */ \"(app-pages-browser)/./node_modules/zustand/esm/vanilla.mjs\");\n\n\n\nconst identity = (arg) => arg;\nfunction useStore(api, selector = identity) {\n  const slice = react__WEBPACK_IMPORTED_MODULE_0__.useSyncExternalStore(\n    api.subscribe,\n    react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => selector(api.getState()), [api, selector]),\n    react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => selector(api.getInitialState()), [api, selector])\n  );\n  react__WEBPACK_IMPORTED_MODULE_0__.useDebugValue(slice);\n  return slice;\n}\nconst createImpl = (createState) => {\n  const api = (0,zustand_vanilla__WEBPACK_IMPORTED_MODULE_1__.createStore)(createState);\n  const useBoundStore = (selector) => useStore(api, selector);\n  Object.assign(useBoundStore, api);\n  return useBoundStore;\n};\nconst create = ((createState) => createState ? createImpl(createState) : createImpl);\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy96dXN0YW5kL2VzbS9yZWFjdC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUEwQjtBQUNvQjs7QUFFOUM7QUFDQTtBQUNBLGdCQUFnQix1REFBMEI7QUFDMUM7QUFDQSxJQUFJLDhDQUFpQjtBQUNyQixJQUFJLDhDQUFpQjtBQUNyQjtBQUNBLEVBQUUsZ0RBQW1CO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLGNBQWMsNERBQVc7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFNEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3p1c3RhbmQvZXNtL3JlYWN0Lm1qcz80OTBlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBjcmVhdGVTdG9yZSB9IGZyb20gJ3p1c3RhbmQvdmFuaWxsYSc7XG5cbmNvbnN0IGlkZW50aXR5ID0gKGFyZykgPT4gYXJnO1xuZnVuY3Rpb24gdXNlU3RvcmUoYXBpLCBzZWxlY3RvciA9IGlkZW50aXR5KSB7XG4gIGNvbnN0IHNsaWNlID0gUmVhY3QudXNlU3luY0V4dGVybmFsU3RvcmUoXG4gICAgYXBpLnN1YnNjcmliZSxcbiAgICBSZWFjdC51c2VDYWxsYmFjaygoKSA9PiBzZWxlY3RvcihhcGkuZ2V0U3RhdGUoKSksIFthcGksIHNlbGVjdG9yXSksXG4gICAgUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4gc2VsZWN0b3IoYXBpLmdldEluaXRpYWxTdGF0ZSgpKSwgW2FwaSwgc2VsZWN0b3JdKVxuICApO1xuICBSZWFjdC51c2VEZWJ1Z1ZhbHVlKHNsaWNlKTtcbiAgcmV0dXJuIHNsaWNlO1xufVxuY29uc3QgY3JlYXRlSW1wbCA9IChjcmVhdGVTdGF0ZSkgPT4ge1xuICBjb25zdCBhcGkgPSBjcmVhdGVTdG9yZShjcmVhdGVTdGF0ZSk7XG4gIGNvbnN0IHVzZUJvdW5kU3RvcmUgPSAoc2VsZWN0b3IpID0+IHVzZVN0b3JlKGFwaSwgc2VsZWN0b3IpO1xuICBPYmplY3QuYXNzaWduKHVzZUJvdW5kU3RvcmUsIGFwaSk7XG4gIHJldHVybiB1c2VCb3VuZFN0b3JlO1xufTtcbmNvbnN0IGNyZWF0ZSA9ICgoY3JlYXRlU3RhdGUpID0+IGNyZWF0ZVN0YXRlID8gY3JlYXRlSW1wbChjcmVhdGVTdGF0ZSkgOiBjcmVhdGVJbXBsKTtcblxuZXhwb3J0IHsgY3JlYXRlLCB1c2VTdG9yZSB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/zustand/esm/react.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/zustand/esm/vanilla.mjs":
/*!**********************************************!*\
  !*** ./node_modules/zustand/esm/vanilla.mjs ***!
  \**********************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createStore: function() { return /* binding */ createStore; }\n/* harmony export */ });\nconst createStoreImpl = (createState) => {\n  let state;\n  const listeners = /* @__PURE__ */ new Set();\n  const setState = (partial, replace) => {\n    const nextState = typeof partial === \"function\" ? partial(state) : partial;\n    if (!Object.is(nextState, state)) {\n      const previousState = state;\n      state = (replace != null ? replace : typeof nextState !== \"object\" || nextState === null) ? nextState : Object.assign({}, state, nextState);\n      listeners.forEach((listener) => listener(state, previousState));\n    }\n  };\n  const getState = () => state;\n  const getInitialState = () => initialState;\n  const subscribe = (listener) => {\n    listeners.add(listener);\n    return () => listeners.delete(listener);\n  };\n  const api = { setState, getState, getInitialState, subscribe };\n  const initialState = state = createState(setState, getState, api);\n  return api;\n};\nconst createStore = ((createState) => createState ? createStoreImpl(createState) : createStoreImpl);\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy96dXN0YW5kL2VzbS92YW5pbGxhLm1qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4SEFBOEg7QUFDOUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBOztBQUV1QiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvenVzdGFuZC9lc20vdmFuaWxsYS5tanM/Yjg4NCJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBjcmVhdGVTdG9yZUltcGwgPSAoY3JlYXRlU3RhdGUpID0+IHtcbiAgbGV0IHN0YXRlO1xuICBjb25zdCBsaXN0ZW5lcnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICBjb25zdCBzZXRTdGF0ZSA9IChwYXJ0aWFsLCByZXBsYWNlKSA9PiB7XG4gICAgY29uc3QgbmV4dFN0YXRlID0gdHlwZW9mIHBhcnRpYWwgPT09IFwiZnVuY3Rpb25cIiA/IHBhcnRpYWwoc3RhdGUpIDogcGFydGlhbDtcbiAgICBpZiAoIU9iamVjdC5pcyhuZXh0U3RhdGUsIHN0YXRlKSkge1xuICAgICAgY29uc3QgcHJldmlvdXNTdGF0ZSA9IHN0YXRlO1xuICAgICAgc3RhdGUgPSAocmVwbGFjZSAhPSBudWxsID8gcmVwbGFjZSA6IHR5cGVvZiBuZXh0U3RhdGUgIT09IFwib2JqZWN0XCIgfHwgbmV4dFN0YXRlID09PSBudWxsKSA/IG5leHRTdGF0ZSA6IE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCBuZXh0U3RhdGUpO1xuICAgICAgbGlzdGVuZXJzLmZvckVhY2goKGxpc3RlbmVyKSA9PiBsaXN0ZW5lcihzdGF0ZSwgcHJldmlvdXNTdGF0ZSkpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgZ2V0U3RhdGUgPSAoKSA9PiBzdGF0ZTtcbiAgY29uc3QgZ2V0SW5pdGlhbFN0YXRlID0gKCkgPT4gaW5pdGlhbFN0YXRlO1xuICBjb25zdCBzdWJzY3JpYmUgPSAobGlzdGVuZXIpID0+IHtcbiAgICBsaXN0ZW5lcnMuYWRkKGxpc3RlbmVyKTtcbiAgICByZXR1cm4gKCkgPT4gbGlzdGVuZXJzLmRlbGV0ZShsaXN0ZW5lcik7XG4gIH07XG4gIGNvbnN0IGFwaSA9IHsgc2V0U3RhdGUsIGdldFN0YXRlLCBnZXRJbml0aWFsU3RhdGUsIHN1YnNjcmliZSB9O1xuICBjb25zdCBpbml0aWFsU3RhdGUgPSBzdGF0ZSA9IGNyZWF0ZVN0YXRlKHNldFN0YXRlLCBnZXRTdGF0ZSwgYXBpKTtcbiAgcmV0dXJuIGFwaTtcbn07XG5jb25zdCBjcmVhdGVTdG9yZSA9ICgoY3JlYXRlU3RhdGUpID0+IGNyZWF0ZVN0YXRlID8gY3JlYXRlU3RvcmVJbXBsKGNyZWF0ZVN0YXRlKSA6IGNyZWF0ZVN0b3JlSW1wbCk7XG5cbmV4cG9ydCB7IGNyZWF0ZVN0b3JlIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/zustand/esm/vanilla.mjs\n"));

/***/ })

});